<!DOCTYPE html>
<!--[if IE]><![endif]-->
<!--[if IE 8 ]><html dir="ltr" lang="en" class="ie8"><![endif]-->
<!--[if IE 9 ]><html dir="ltr" lang="en" class="ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html dir="ltr" lang="en">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>P223GR1 From Fastrack</title>
<link rel="manifest" href="manifest.json">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="application-name" content="MHH">
<meta name="apple-mobile-web-app-title" content="MHH">
<meta name="msapplication-navbutton-color" content="#e5242b">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="msapplication-starturl" content="/">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Sajan Varghese" />
<meta name="theme-color" content="#e5242b"/>
<title>P223GR1 From Fastrack</title>
<base href="" />
<script src="jquery/jquery-2.1.1.min.js" type="text/javascript"></script>
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen" />
<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,400i,300,700" rel="stylesheet" type="text/css" />
<link href="stylesheet/stylesheet.css" rel="stylesheet">
<link rel="stylesheet" href="stylesheet/barakat-combined.css">
<link rel="stylesheet" href="stylesheet/component.css">
<link href="stylesheet/main.css" rel="stylesheet">
<script src="bootstrap/js/custom-file-input.js" type="text/javascript"></script>
<link href="jquery/magnific/magnific-popup.css" type="text/css" rel="stylesheet" media="screen" />
<link href="jquery/datetimepicker/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet" media="screen" />
<script src="common.js" type="text/javascript"></script>
<script src="jquery/magnific/jquery.magnific-popup.min.js" type="text/javascript"></script>
<script src="jquery/datetimepicker/moment.js" type="text/javascript"></script>
<script src="jquery/datetimepicker/bootstrap-datetimepicker.min.js" type="text/javascript"></script>

			
						<!-- 123123 -->
							<script  type = "text/javascript" ><!--
					function poip_show_thumb(elem) {
						
						if ($(elem).attr('data-thumb') && $(elem).attr('data-image_id')) {
										
							var main_img = $('img[data-poip_id="image_'+$(elem).attr('data-image_id')+'"]');
							if (main_img.length == 0) {
								main_img = $('img[data-poip_id="'+$(elem).attr('data-image_id')+'"]');
							}
							
							var prev_img = main_img.attr('src'); // journal2 compatibility
							main_img.attr('src', $(elem).attr('data-thumb'));
							main_img.closest('a').attr('href', $(elem).attr('href'));
							
							// moment theme compatibility (second image)
							if ( main_img.parent().parent().is('div.product-thumb__primary') ) {
								main_img.parent().parent().siblings('div.product-thumb__secondary').find('a').attr('href', $(elem).attr('href'));
							}
							
							// journal2 compatibility
							if (main_img.parent().hasClass('has-second-image')) {
								main_img.parent().attr('style', main_img.parent().attr('style').replace(prev_img, $(elem).attr('data-thumb')) );
							}
							
						}
					}
				//--></script>
								
									
</head>
<body class="product-product-40">
        <header>
            <div class="top_bar">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-8">
                       <div class="navbar-header">
                                <button type="button" data-target="#topnavbarCollapse" data-toggle="collapse" class="navbar-toggle top">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>
                            </div>
                            <ul  id="topnavbarCollapse" class=" top_menu  navbar-collapse">
                                <li><a href="#">About Us</a></li>
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
            <div class="menu-bar">
                <div class="container-fluid">
                    <div class="row flex-row item-center">
                        <div class="col-sm-3 col-md-3 logo-bar">
							<a href="#">Logo</a>
						</div>
                    </div>
                    <div>
                        <nav class="navbar">
                            <!-- Brand and toggle get grouped for better mobile display -->
                             <div class="navbar-header">
                                <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle main-toggle-bar">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>

                            </div>
                            <!-- Collection of nav links and other content for toggling -->
                            <div id="navbarCollapse" class="collapse  navbar-collapse">
                                <ul class="nav navbar-nav">
                                    <li class="active"><a href="#">Home</a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <ul class="breadcrumb">
								<li><a href="#"><i class="fa fa-home"></i></a></li>
								<li><a href="#">P223GR1 From Fastrack</a></li>
							
            </ul>
        </div>
    </div>
</div>

<section class="optics gap-bottom">
    <div class="container-fluid">
        <div class="row small-gap">
            <div class="col-sm-6">
				<div class="row">
                    <div class="col-md-3">
                        <div id="carousel-pager" class="carousel slide " data-ride="carousel" data-interval="500000000">
								
							<!-- Carousel items -->
							<div class="carousel-inner vertical">	
																	                  	
							<div class='active item'>
														<img src="image/cache/catalog/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-74x74.jpg" class="img-responsive" data-target="#carousel-main" data-slide-to="0">	
														</div>
										                  	
							<div class=' item'>
														<img src="image/cache/catalog/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-74x74.jpg" class="img-responsive" data-target="#carousel-main" data-slide-to="1">	
														</div>
										                  	
							<div class=' item'>
														<img src="image/cache/catalog/03-min_540x540-74x74.png" class="img-responsive" data-target="#carousel-main" data-slide-to="2">	
														</div>
																					</div>
																
							<!-- Controls -->
														<a class="left carousel-control" href="#carousel-pager" role="button" data-slide="prev">
								<span class="fa fa-angle-up" aria-hidden="true"></span>

								<span class="sr-only">Previous</span>
							</a>
							<a class="right carousel-control" href="#carousel-pager" role="button" data-slide="next">
								<span class="fa fa-angle-down" aria-hidden="true"></span>
								<span class="sr-only">Next</span>
							</a>
													</div>
                    </div>
                    <div class="col-md-9">
                        <div id="carousel-main" class="carousel slide " data-ride="carousel" data-interval="5000000">
                            <!-- Carousel items -->
													
                            <div class="carousel-inner">
							
									                  						
                                <div class="active item">
																	
										<img src="image/cache/catalog/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-500x500.jpg" class="img-responsive">
									                                </div>
									                  						
                                <div class=" item">
																	
										<img src="image/cache/catalog/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-500x500.jpg" class="img-responsive">
									                                </div>
									                  						
                                <div class=" item">
																	
										<img src="image/cache/catalog/03-min_540x540-500x500.png" class="img-responsive">
									                                </div>
												                            </div>
						                        </div>
                    </div>


                </div>
				                <div class="row">
                    <div class="col-sm-12">
                        <div class="frame_details ">
                            <h4 class="text-center"><!--<span><img data-src="/barakat_opticals/image/catalog/illustration.png" alt="Frame Size Illustration" class="img-responsive lazyload"/></span>-->Frame Size Illustration</h4>
                            <ul class="frame_details_list">
                                <li class="text-center">
                                    <img data-src="/barakat_opticals/image/catalog/bridge-size.png" alt="Bridge Size" class="img-responsive lazyload"/>
                                    <span class="frame-name"><strong>Bridge Size</strong></span>
                                    <span id="ill-bridge-size">14 mm</span>
                                </li>
                                <li class="text-center">
                                    <img data-src="/barakat_opticals/image/catalog/bridge-size.png" alt="Bridge Size" class="img-responsive lazyload"/>
                                    <span class="frame-name"><strong>Temple Size</strong></span>
                                    <span id="ill-temple-size">144 mm</span>
                                </li>
								<li class="text-center">
                                    <img data-src="/barakat_opticals/image/catalog/bridge-size.png" alt="Bridge Size" class="img-responsive lazyload"/>
                                    <span class="frame-name"><strong>Lens Width</strong></span>
                                    <span id="ill-lens-width">46 mm</span>
                                </li>
                                <li class="text-center">
                                    <img data-src="/barakat_opticals/image/catalog/bridge-size.png" alt="Bridge Size" class="img-responsive lazyload"/>
                                    <span class="frame-name"><strong>Lens Height</strong></span>
                                    <span id="ill-lens-height">16 mm</span>
                                </li>
								<li class="text-center">
                                    <img data-src="/barakat_opticals/image/catalog/bridge-size.png" alt="Bridge Size" class="img-responsive lazyload"/>
                                    <span class="frame-name"><strong>Frame Width</strong></span>
                                    <span id="ill-frame-width">134 mm</span>
                                </li>
                            </ul>
							<!-- /* Size Chart Starts */ -->
							<div class="row">
								<div class="col-md-6">
									<div class="text-center buttons-gap">
										<a href="#" class="red-btn gray-btn btn-custom" target="_blank">BUYING GUIDE</a>
									</div>
								</div>
							</div>
							<!-- /* Size Chart Ends */ -->	
                        </div>
                    </div>
                </div>
				            </div>
			<div class="col-sm-6">
                <div class="product_details">
                    <div class="product_head_container">
                    <h3 class="mar_20">P223GR1 From Fastrack</h3>
                    </div>
                    
                    <div class="product_squ_code">
						<p><span class="b_gray">Product Code: </span> P223GR1</p>
					</div>
				<div id="product">					
								
								<div class="row">
								<div class="col-sm-6 product_size mar_20">
					
								<div class="product_color">
					<div class="fnt b_gray">Color:</div>
					<div class="tiny-box" id="input-option227">
												<label class="custom_radio">
							<input type="radio" name="option[227]" value="18" />

						
							<span class="checkmark" style="background-color:#AF9A96"></span>
						</label>
												<label class="custom_radio">
							<input type="radio" name="option[227]" value="17" />

						
							<span class="checkmark" style="background-color:#2F2B2E"></span>
						</label>
												<label class="custom_radio">
							<input type="radio" name="option[227]" value="29" />

						
							<span class="checkmark" style="background-color:#FBE9E9"></span>
						</label>
											</div>
				</div>
								
            
                                                                        				
			</div>			
						</div>
            					
            					
						
									<div class="product_color product_size">
				<div class="fnt b_gray">Size:</div>
				  <ul class="list-unstyled size_box">
										<li>
						<input name="my_frame_size" id="frame-size19" type="radio" name="size" lblbridge="14" lbltemple="144" lbllenswidth="46" lbllensheight="16" lblframe="134" data-toggle="tooltip" title="Small" data-placement="top">
						<label for="frame-size19">46 <span class="square"></span> 14-144</label>
					</li>
										<li>
						<input name="my_frame_size" id="frame-size20" type="radio" name="size" lblbridge="16" lbltemple="146" lbllenswidth="48" lbllensheight="18" lblframe="136" data-toggle="tooltip" title="Medium" data-placement="top">
						<label for="frame-size20">48 <span class="square"></span> 16-146</label>
					</li>
										<li>
						<input name="my_frame_size" id="frame-size21" type="radio" name="size" lblbridge="18" lbltemple="148" lbllenswidth="50" lbllensheight="20" lblframe="138" data-toggle="tooltip" title="Large" data-placement="top">
						<label for="frame-size21">50 <span class="square"></span> 18-148</label>
					</li>
									</ul>
			</div>
						<div class="row">
				<div class="col-md-12">
				<p>
					<span class="b_gray">Prescription Compatibility:</span>
										<strong>Distance, Reading, Bi-Focal & Progressive</strong>
									</p>
				</div>
			</div>
			            <!--<p class="offer-line"><span class="b_gray">Offers: 20%</span>  Off On Sunglasses + Additional Rs 75 off on Online Purchase(9pm to 10am)</p>-->
			
            
						
			<hr>
						<p class="price">
				<span class="b_gray">Price: </span>
								<span class="main_price">$7.50</span>
							</p>
			                    
			<div class="product">
				
				<a href="javascript:void(0);" class="red-btn" id="open_prescription_modal_popup" data-backdrop="static" data-keyboard="false">ADD PRESCRIPTION (Rx)</a>
				
				<!--Prescription Button End-->
				
							</div>
			</div>
					                    <hr>
                    <div class="best_provide">
                        <ul>
							<ul>
	<li><img alt="Best" class="lazyload" data-src="/barakat_opticals/image/catalog/best.png" />
	<p>Best Price Guaranteed</p>
	</li>
	<li><img alt="Best" class="lazyload" data-src="/barakat_opticals/image/catalog/perfect.png" />
	<p>Perfect Fit Promise(?)</p>
	</li>
	<li><img alt="Best" class="lazyload" data-src="/barakat_opticals/image/catalog/warranty.png" />
	<p>1 Year Warranty(?)</p>
	</li>
</ul>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="product_review_tabs">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div id="exTab1" class="container">
					<!-- /* Size Chart Starts */ -->
										<!-- /* Size Chart Ends */ -->				
                    <ul  class="nav nav-pills nav-tabs">
                        <li class="active">
                            <a  href="#tab-description" data-toggle="tab">Description</a>
                        </li>
												                        <li><a href="#tab-review" data-toggle="tab">Reviews (1)</a>
                        </li>												
						<!--Custom Tab-->
																			<li><a href="#tabcustom0" data-toggle="tab">How Your Specs Are Made</a></li>
																		<!--Custom Tab-->
                        </li>
                        <li><a href="#tab-faq" data-toggle="tab">FAQ's</a>
                        </li>
                    </ul>

                    <div class="tab-content clearfix">
                        <div class="tab-pane active" id="tab-description">
							<p class="intro">iPhone is a revolutionary new mobile phone that allows you to make a call by simply tapping a name or number in your address book, a favorites list, or a call log. It also automatically syncs all your contacts from a PC, Mac, or Internet service. And it lets you select and listen to voicemail messages in whatever order you want just like email.</p>
						<!-- /* Size Chart Starts */ -->
												<!-- /* Size Chart Ends */ -->							
                        </div>
                        <div class="tab-pane" id="tab-specification">
						  <table class="table table-bordered">
													  </table>
                        </div>
														<div class="tab-pane" id="tab-review">
								<div id="review"></div>														
							</div>
																				
						<!--Custom Tab-->
											   							<div class="tab-pane"id="tabcustom0">
								<p style="margin-bottom: 10px; color: rgb(23, 23, 23); font-family: &quot;Avenir LT Std&quot;; font-size: 14px;"><span style="font-weight: 700;">Maroon Black Full Rim Rectangle Medium (Size-53) Vincent Chase Air Flex VC E11373 -C2 Eyeglasses</span></p><hr style="margin-top: 20px; margin-bottom: 20px; color: rgb(23, 23, 23); font-family: &quot;Avenir LT Std&quot;; font-size: 14px;"><p style="margin-bottom: 10px; color: rgb(23, 23, 23); font-family: &quot;Avenir LT Std&quot;; font-size: 14px;">When in doubt wear on sleek maroon black Eyeglasses with your classic suit or ripped jeans and regular t-shirt. These Air Flex eyeglasses are your go to eyeglasses, which will never let you down. The crisp and sharp angles of these eyeglasses offer the observers a glimpse to your enigmatic and cool side. People with oblong or round face must pick these rectangulars to enhance the facial structure and soften the fuller cheeks.</p>							</div>
												<!--Custom Tab-->
                        <div class="tab-pane" id="tab-faq">

                        </div>						
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>
</div>


<!-- Modal -->
<style>
.no_anchor, .prescription-preview-btn, .load_rx_account_btn{pointer-events: none;cursor: default;}
.rx_type, .lens_type, .add_lens, .add_coating {cursor: pointer;}
.rx-box.rx_type.selected, .rx-box.lens_type.selected, .lencebox.add_lens.selected, .coatingbox.add_coating.selected {border: 1px solid #CCC;background: #CCC;}
.coatingbox{background: #FFF; padding: 15px 5px 10px; margin: 10px 0px;}
.coatingbox span>img {  width: 65px;   height: auto}
.coatingbox span { float: left; margin-right: 8px; display: block;}
.coatingbox>div { padding-left: 80px;}
.coatingbox>div>p.rx-heading {text-transform: uppercase; font-weight: 600;text-align: left;font-size: 14px; margin: 0;}
.coatingbox>div>hr { margin-top: 5px; margin-bottom: 8px;}
#prescription-preview-box{z-index: 999999;}
#preview-content{padding: 0px 15px;}
</style>
<!-- Modal -->
<!--<div class="modal fade" id="prescription-preview-box" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="row">
				<div class="col-sm-12 mar_20">
					<div class="modal-body" id="preview-content"></div>
					<div class="modal-footer">
						<div id="showcarterror"></div>
						<a href="javascript:void(0);" id="button-cart-with-prescription" class="red-btn black-btn">ADD TO CART</a>
						<a href="javascript:void(0);" id="close-prescription-box" class="red-btn black-btn pull-right" data-dismiss="modal" data-target="#prescription-preview-box">CLOSE</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>-->

<div id="prescription" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog container">
		<!--<button type="button" class="close custom_close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
		<button type="button" class="close custom_close">&times;</button>
        <!-- Modal content-->
        <div class="modal-content">
            <div class="row">
                <div class="col-sm-12 mar_20">
                    <ul class="step_count nav nav-tabs">
                        <li class="steps active" id="li_step1">
							<a class="no_anchor" data-toggle="tab" href="#step1"><span>1</span>Prescription (Rx)</a>
						</li>
                        <li class="steps" id="li_step2">
							<a class="no_anchor" data-toggle="tab" href="#step2"><span>2</span>Rx Type</a>
						</li>
                        <li class="steps" id="li_step3">
							<a class="no_anchor" data-toggle="tab" href="#step3"><span>3</span>Lens Type</a>
						</li>
                        <li class="steps" id="li_step4">
							<a class="no_anchor" data-toggle="tab" href="#step4"><span>4</span>Lens Options</a>
						</li>
                        <li class="steps" id="li_step5">
							<a class="no_anchor" data-toggle="tab" href="#step5"><span>5</span>Coating Options</a>
						</li>
						<li class="steps" id="li_step6">
							<a class="no_anchor" data-toggle="tab" href="#step6"><span>6</span>Order Preview</a>
						</li>
                    </ul>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-7 ">
                    <div class="step-form">
						<div id="showerror"></div>
                        <form method="" action="" id="add_prescription_form" enctype="multipart/form-data">
						
							<input type="hidden" name="prescription_product_id" value="40" />
							
							<!--<input type="hidden" name="product_id" value="40" />
						
							<input type="hidden" name="product_type" value="1" />
							
							<input type="hidden" name="quantity" value="1" size="2" id="input-quantity" class="form-control" />-->
							
							<input type="hidden" id="od_sph_ttl" name="od_sph_ttl" value="">
							<input type="hidden" id="od_cyl_ttl" name="od_cyl_ttl" value="">
							<input type="hidden" id="od_add_ttl" name="od_add_ttl" value="">
							
							<input type="hidden" id="r_new_sph1" name="r_new_sph1" value="">
							<input type="hidden" id="l_new_sph1" name="l_new_sph1" value="">
							
							<input type="hidden" id="r_new_sph2" name="r_new_sph2" value="">
							<input type="hidden" id="l_new_sph2" name="l_new_sph2" value="">
							
							<input type="hidden" id="r_total_power" name="r_total_power" value="">
							<input type="hidden" id="l_total_power" name="l_total_power" value="">
							
							<input type="hidden" id="total_power" name="total_power" value="">
							<input type="hidden" name="total_power_group" id="total_power_group" value="">
							
                            <div class="tab-content">
                                <div id="step1" class="tab-pane fade in active">
                                    <h3 class="red"><strong>Pick Lens</strong> - Pace 1 (Prescription)</h3>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table1 product_top_table">
                                                <table class="table ">
                                                    <thead>
                                                        <tr>
                                                            <td></td>
                                                            <td class="phead">
																SPH
																<i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="This indicates the amount of lens power, measured in diopters
 (D), prescribed to correct nearsightedness or farsightedness. If the number appearing under this heading has a minus sign (–), you are nearsighted; if the number has a plus sign (+) or is not preceded by a plus sign or a minus sign, you are farsighted." data-placement="top"></i>
															</td>
                                                            <td class="phead">
																CYL
																<i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="This indicates the amount of lens power for astigmatism. If nothing appears in this column, either you have no astigmatism, or your astigmatism is so slight that it is not really necessary to correct it with your eyeglass lenses. The number in the cylinder column may be preceded with a minus sign (for the correction of nearsighted astigmatism) or a plus sign (for farsighted astigmatism). Cylinder power always follows sphere power in an eyeglass prescription." data-placement="top"></i>
															</td>
                                                            <td class="phead">
																AXIS
																<i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="This describes the lens meridian that contains no cylinder power to correct astigmatism. The axis is defined with a number from 1 to 180. The number 90 corresponds to the vertical meridian of the eye, and the number 180 corresponds to the horizontal meridian." data-placement="top"></i>
															</td>
                                                            <td class="phead">
																ADD
																<i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="This is the added magnifying power applied to the bottom part of multifocal lenses to correct presbyopia. The number appearing in this section of the prescription is always a "plus" power, even if it is not preceded by a plus sign. Generally, it will range from +0.75 to +3.00 D and will be the same power for both eyes." data-placement="top"></i>
															</td>
                                                        </tr>
                                                    </thead>
                                                    <tr>
                                                        <td class="lft"><span class="form-control">Right (OD)</span></td>
                                                        <td>
															<input type="hidden" id="od_sph_new" name="od_sph_new" value="">
															<input type="hidden" id="os_sph_new" name="os_sph_new" value="">
                                                            <select class="form-control select checkwarn" id="od_sph" name="od_sph">
																                                                                <option value="-12.00">-12.00</option>
																                                                                <option value="-11.75">-11.75</option>
																                                                                <option value="-11.50">-11.50</option>
																                                                                <option value="-11.25">-11.25</option>
																                                                                <option value="-11.00">-11.00</option>
																                                                                <option value="-10.75">-10.75</option>
																                                                                <option value="-10.50">-10.50</option>
																                                                                <option value="-10.25">-10.25</option>
																                                                                <option value="-10.00">-10.00</option>
																                                                                <option value="-9.75">-9.75</option>
																                                                                <option value="-9.50">-9.50</option>
																                                                                <option value="-9.25">-9.25</option>
																                                                                <option value="-9.00">-9.00</option>
																                                                                <option value="-8.75">-8.75</option>
																                                                                <option value="-8.50">-8.50</option>
																                                                                <option value="-8.25">-8.25</option>
																                                                                <option value="-8.00">-8.00</option>
																                                                                <option value="-7.75">-7.75</option>
																                                                                <option value="-7.50">-7.50</option>
																                                                                <option value="-7.25">-7.25</option>
																                                                                <option value="-7.00">-7.00</option>
																                                                                <option value="-6.75">-6.75</option>
																                                                                <option value="-6.50">-6.50</option>
																                                                                <option value="-6.25">-6.25</option>
																                                                                <option value="-6.00">-6.00</option>
																                                                                <option value="-5.75">-5.75</option>
																                                                                <option value="-5.50">-5.50</option>
																                                                                <option value="-5.25">-5.25</option>
																                                                                <option value="-5.00">-5.00</option>
																                                                                <option value="-4.75">-4.75</option>
																                                                                <option value="-4.50">-4.50</option>
																                                                                <option value="-4.25">-4.25</option>
																                                                                <option value="-4.00">-4.00</option>
																                                                                <option value="-3.75">-3.75</option>
																                                                                <option value="-3.50">-3.50</option>
																                                                                <option value="-3.25">-3.25</option>
																                                                                <option value="-3.00">-3.00</option>
																                                                                <option value="-2.75">-2.75</option>
																                                                                <option value="-2.50">-2.50</option>
																                                                                <option value="-2.25">-2.25</option>
																                                                                <option value="-2.00">-2.00</option>
																                                                                <option value="-1.75">-1.75</option>
																                                                                <option value="-1.50">-1.50</option>
																                                                                <option value="-1.25">-1.25</option>
																                                                                <option value="-1.00">-1.00</option>
																                                                                <option value="-0.75">-0.75</option>
																                                                                <option value="-0.50">-0.50</option>
																                                                                <option value="-0.25">-0.25</option>
																																<option value="" selected>Plano/None</option>
																                                                                <option value="+0.25">+0.25</option>
																                                                                <option value="+0.50">+0.50</option>
																                                                                <option value="+0.75">+0.75</option>
																                                                                <option value="+1.00">+1.00</option>
																                                                                <option value="+1.25">+1.25</option>
																                                                                <option value="+1.50">+1.50</option>
																                                                                <option value="+1.75">+1.75</option>
																                                                                <option value="+2.00">+2.00</option>
																                                                                <option value="+2.25">+2.25</option>
																                                                                <option value="+2.50">+2.50</option>
																                                                                <option value="+2.75">+2.75</option>
																                                                                <option value="+3.00">+3.00</option>
																                                                                <option value="+3.25">+3.25</option>
																                                                                <option value="+3.50">+3.50</option>
																                                                                <option value="+3.75">+3.75</option>
																                                                                <option value="+4.00">+4.00</option>
																                                                                <option value="+4.25">+4.25</option>
																                                                                <option value="+4.50">+4.50</option>
																                                                                <option value="+4.75">+4.75</option>
																                                                                <option value="+5.00">+5.00</option>
																                                                                <option value="+5.25">+5.25</option>
																                                                                <option value="+5.50">+5.50</option>
																                                                                <option value="+5.75">+5.75</option>
																                                                                <option value="+6.00">+6.00</option>
																                                                                <option value="+6.25">+6.25</option>
																                                                                <option value="+6.50">+6.50</option>
																                                                                <option value="+6.75">+6.75</option>
																                                                                <option value="+7.00">+7.00</option>
																                                                                <option value="+7.25">+7.25</option>
																                                                                <option value="+7.50">+7.50</option>
																                                                                <option value="+7.75">+7.75</option>
																                                                                <option value="+8.00">+8.00</option>
																                                                                <option value="+8.25">+8.25</option>
																                                                                <option value="+8.50">+8.50</option>
																                                                                <option value="+8.75">+8.75</option>
																                                                                <option value="+9.00">+9.00</option>
																                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control select checkwarn" id="od_cyl" name="od_cyl">
																                                                                <option value="-6.00">-6.00</option>
																                                                                <option value="-5.75">-5.75</option>
																                                                                <option value="-5.50">-5.50</option>
																                                                                <option value="-5.25">-5.25</option>
																                                                                <option value="-5.00">-5.00</option>
																                                                                <option value="-4.75">-4.75</option>
																                                                                <option value="-4.50">-4.50</option>
																                                                                <option value="-4.25">-4.25</option>
																                                                                <option value="-4.00">-4.00</option>
																                                                                <option value="-3.75">-3.75</option>
																                                                                <option value="-3.50">-3.50</option>
																                                                                <option value="-3.25">-3.25</option>
																                                                                <option value="-3.00">-3.00</option>
																                                                                <option value="-2.75">-2.75</option>
																                                                                <option value="-2.50">-2.50</option>
																                                                                <option value="-2.25">-2.25</option>
																                                                                <option value="-2.00">-2.00</option>
																                                                                <option value="-1.75">-1.75</option>
																                                                                <option value="-1.50">-1.50</option>
																                                                                <option value="-1.25">-1.25</option>
																                                                                <option value="-1.00">-1.00</option>
																                                                                <option value="-0.75">-0.75</option>
																                                                                <option value="-0.50">-0.50</option>
																                                                                <option value="-0.25">-0.25</option>
																																<option value="" selected>None</option>
																                                                                <option value="+0.25">+0.25</option>
																                                                                <option value="+0.50">+0.50</option>
																                                                                <option value="+0.75">+0.75</option>
																                                                                <option value="+1.00">+1.00</option>
																                                                                <option value="+1.25">+1.25</option>
																                                                                <option value="+1.50">+1.50</option>
																                                                                <option value="+1.75">+1.75</option>
																                                                                <option value="+2.00">+2.00</option>
																                                                                <option value="+2.25">+2.25</option>
																                                                                <option value="+2.50">+2.50</option>
																                                                                <option value="+2.75">+2.75</option>
																                                                                <option value="+3.00">+3.00</option>
																                                                                <option value="+3.25">+3.25</option>
																                                                                <option value="+3.50">+3.50</option>
																                                                                <option value="+3.75">+3.75</option>
																                                                                <option value="+4.00">+4.00</option>
																                                                                <option value="+4.25">+4.25</option>
																                                                                <option value="+4.50">+4.50</option>
																                                                                <option value="+4.75">+4.75</option>
																                                                                <option value="+5.00">+5.00</option>
																                                                                <option value="+5.25">+5.25</option>
																                                                                <option value="+5.50">+5.50</option>
																                                                                <option value="+5.75">+5.75</option>
																                                                                <option value="+6.00">+6.00</option>
																                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control select" id="od_axis" name="od_axis">
																                                                                <option value="180">180</option>
																                                                                <option value="179">179</option>
																                                                                <option value="178">178</option>
																                                                                <option value="177">177</option>
																                                                                <option value="176">176</option>
																                                                                <option value="175">175</option>
																                                                                <option value="174">174</option>
																                                                                <option value="173">173</option>
																                                                                <option value="172">172</option>
																                                                                <option value="171">171</option>
																                                                                <option value="170">170</option>
																                                                                <option value="169">169</option>
																                                                                <option value="168">168</option>
																                                                                <option value="167">167</option>
																                                                                <option value="166">166</option>
																                                                                <option value="165">165</option>
																                                                                <option value="164">164</option>
																                                                                <option value="163">163</option>
																                                                                <option value="162">162</option>
																                                                                <option value="161">161</option>
																                                                                <option value="160">160</option>
																                                                                <option value="159">159</option>
																                                                                <option value="158">158</option>
																                                                                <option value="157">157</option>
																                                                                <option value="156">156</option>
																                                                                <option value="155">155</option>
																                                                                <option value="154">154</option>
																                                                                <option value="153">153</option>
																                                                                <option value="152">152</option>
																                                                                <option value="151">151</option>
																                                                                <option value="150">150</option>
																                                                                <option value="149">149</option>
																                                                                <option value="148">148</option>
																                                                                <option value="147">147</option>
																                                                                <option value="146">146</option>
																                                                                <option value="145">145</option>
																                                                                <option value="144">144</option>
																                                                                <option value="143">143</option>
																                                                                <option value="142">142</option>
																                                                                <option value="141">141</option>
																                                                                <option value="140">140</option>
																                                                                <option value="139">139</option>
																                                                                <option value="138">138</option>
																                                                                <option value="137">137</option>
																                                                                <option value="136">136</option>
																                                                                <option value="135">135</option>
																                                                                <option value="134">134</option>
																                                                                <option value="133">133</option>
																                                                                <option value="132">132</option>
																                                                                <option value="131">131</option>
																                                                                <option value="130">130</option>
																                                                                <option value="129">129</option>
																                                                                <option value="128">128</option>
																                                                                <option value="127">127</option>
																                                                                <option value="126">126</option>
																                                                                <option value="125">125</option>
																                                                                <option value="124">124</option>
																                                                                <option value="123">123</option>
																                                                                <option value="122">122</option>
																                                                                <option value="121">121</option>
																                                                                <option value="120">120</option>
																                                                                <option value="119">119</option>
																                                                                <option value="118">118</option>
																                                                                <option value="117">117</option>
																                                                                <option value="116">116</option>
																                                                                <option value="115">115</option>
																                                                                <option value="114">114</option>
																                                                                <option value="113">113</option>
																                                                                <option value="112">112</option>
																                                                                <option value="111">111</option>
																                                                                <option value="110">110</option>
																                                                                <option value="109">109</option>
																                                                                <option value="108">108</option>
																                                                                <option value="107">107</option>
																                                                                <option value="106">106</option>
																                                                                <option value="105">105</option>
																                                                                <option value="104">104</option>
																                                                                <option value="103">103</option>
																                                                                <option value="102">102</option>
																                                                                <option value="101">101</option>
																                                                                <option value="100">100</option>
																                                                                <option value="99">99</option>
																                                                                <option value="98">98</option>
																                                                                <option value="97">97</option>
																                                                                <option value="96">96</option>
																                                                                <option value="95">95</option>
																                                                                <option value="94">94</option>
																                                                                <option value="93">93</option>
																                                                                <option value="92">92</option>
																                                                                <option value="91">91</option>
																                                                                <option value="90">90</option>
																                                                                <option value="89">89</option>
																                                                                <option value="88">88</option>
																                                                                <option value="87">87</option>
																                                                                <option value="86">86</option>
																                                                                <option value="85">85</option>
																                                                                <option value="84">84</option>
																                                                                <option value="83">83</option>
																                                                                <option value="82">82</option>
																                                                                <option value="81">81</option>
																                                                                <option value="80">80</option>
																                                                                <option value="79">79</option>
																                                                                <option value="78">78</option>
																                                                                <option value="77">77</option>
																                                                                <option value="76">76</option>
																                                                                <option value="75">75</option>
																                                                                <option value="74">74</option>
																                                                                <option value="73">73</option>
																                                                                <option value="72">72</option>
																                                                                <option value="71">71</option>
																                                                                <option value="70">70</option>
																                                                                <option value="69">69</option>
																                                                                <option value="68">68</option>
																                                                                <option value="67">67</option>
																                                                                <option value="66">66</option>
																                                                                <option value="65">65</option>
																                                                                <option value="64">64</option>
																                                                                <option value="63">63</option>
																                                                                <option value="62">62</option>
																                                                                <option value="61">61</option>
																                                                                <option value="60">60</option>
																                                                                <option value="59">59</option>
																                                                                <option value="58">58</option>
																                                                                <option value="57">57</option>
																                                                                <option value="56">56</option>
																                                                                <option value="55">55</option>
																                                                                <option value="54">54</option>
																                                                                <option value="53">53</option>
																                                                                <option value="52">52</option>
																                                                                <option value="51">51</option>
																                                                                <option value="50">50</option>
																                                                                <option value="49">49</option>
																                                                                <option value="48">48</option>
																                                                                <option value="47">47</option>
																                                                                <option value="46">46</option>
																                                                                <option value="45">45</option>
																                                                                <option value="44">44</option>
																                                                                <option value="43">43</option>
																                                                                <option value="42">42</option>
																                                                                <option value="41">41</option>
																                                                                <option value="40">40</option>
																                                                                <option value="39">39</option>
																                                                                <option value="38">38</option>
																                                                                <option value="37">37</option>
																                                                                <option value="36">36</option>
																                                                                <option value="35">35</option>
																                                                                <option value="34">34</option>
																                                                                <option value="33">33</option>
																                                                                <option value="32">32</option>
																                                                                <option value="31">31</option>
																                                                                <option value="30">30</option>
																                                                                <option value="29">29</option>
																                                                                <option value="28">28</option>
																                                                                <option value="27">27</option>
																                                                                <option value="26">26</option>
																                                                                <option value="25">25</option>
																                                                                <option value="24">24</option>
																                                                                <option value="23">23</option>
																                                                                <option value="22">22</option>
																                                                                <option value="21">21</option>
																                                                                <option value="20">20</option>
																                                                                <option value="19">19</option>
																                                                                <option value="18">18</option>
																                                                                <option value="17">17</option>
																                                                                <option value="16">16</option>
																                                                                <option value="15">15</option>
																                                                                <option value="14">14</option>
																                                                                <option value="13">13</option>
																                                                                <option value="12">12</option>
																                                                                <option value="11">11</option>
																                                                                <option value="10">10</option>
																                                                                <option value="9">9</option>
																                                                                <option value="8">8</option>
																                                                                <option value="7">7</option>
																                                                                <option value="6">6</option>
																                                                                <option value="5">5</option>
																                                                                <option value="4">4</option>
																                                                                <option value="3">3</option>
																                                                                <option value="2">2</option>
																                                                                <option value="1">1</option>
																																<option value="" selected>None</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control select checkwarn" id="od_add" name="od_add">
                                                                                                                                <option value="+4.00">+4.00</option>
																                                                                <option value="+3.75">+3.75</option>
																                                                                <option value="+3.50">+3.50</option>
																                                                                <option value="+3.25">+3.25</option>
																                                                                <option value="+3.00">+3.00</option>
																                                                                <option value="+2.75">+2.75</option>
																                                                                <option value="+2.50">+2.50</option>
																                                                                <option value="+2.25">+2.25</option>
																                                                                <option value="+2.00">+2.00</option>
																                                                                <option value="+1.75">+1.75</option>
																                                                                <option value="+1.50">+1.50</option>
																                                                                <option value="+1.25">+1.25</option>
																                                                                <option value="+1.00">+1.00</option>
																                                                                <option value="+0.75">+0.75</option>
																                                                                <option value="+0.50">+0.50</option>
																                                                                <option value="+0.25">+0.25</option>
																                                                                <option value="" selected>None</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="lft"><span class="form-control">Left (OS)</span></td>
                                                        <td>
                                                            <select class="form-control select checkwarn" id="os_sph" name="os_sph">
																                                                                <option value="-12.00">-12.00</option>
																                                                                <option value="-11.75">-11.75</option>
																                                                                <option value="-11.50">-11.50</option>
																                                                                <option value="-11.25">-11.25</option>
																                                                                <option value="-11.00">-11.00</option>
																                                                                <option value="-10.75">-10.75</option>
																                                                                <option value="-10.50">-10.50</option>
																                                                                <option value="-10.25">-10.25</option>
																                                                                <option value="-10.00">-10.00</option>
																                                                                <option value="-9.75">-9.75</option>
																                                                                <option value="-9.50">-9.50</option>
																                                                                <option value="-9.25">-9.25</option>
																                                                                <option value="-9.00">-9.00</option>
																                                                                <option value="-8.75">-8.75</option>
																                                                                <option value="-8.50">-8.50</option>
																                                                                <option value="-8.25">-8.25</option>
																                                                                <option value="-8.00">-8.00</option>
																                                                                <option value="-7.75">-7.75</option>
																                                                                <option value="-7.50">-7.50</option>
																                                                                <option value="-7.25">-7.25</option>
																                                                                <option value="-7.00">-7.00</option>
																                                                                <option value="-6.75">-6.75</option>
																                                                                <option value="-6.50">-6.50</option>
																                                                                <option value="-6.25">-6.25</option>
																                                                                <option value="-6.00">-6.00</option>
																                                                                <option value="-5.75">-5.75</option>
																                                                                <option value="-5.50">-5.50</option>
																                                                                <option value="-5.25">-5.25</option>
																                                                                <option value="-5.00">-5.00</option>
																                                                                <option value="-4.75">-4.75</option>
																                                                                <option value="-4.50">-4.50</option>
																                                                                <option value="-4.25">-4.25</option>
																                                                                <option value="-4.00">-4.00</option>
																                                                                <option value="-3.75">-3.75</option>
																                                                                <option value="-3.50">-3.50</option>
																                                                                <option value="-3.25">-3.25</option>
																                                                                <option value="-3.00">-3.00</option>
																                                                                <option value="-2.75">-2.75</option>
																                                                                <option value="-2.50">-2.50</option>
																                                                                <option value="-2.25">-2.25</option>
																                                                                <option value="-2.00">-2.00</option>
																                                                                <option value="-1.75">-1.75</option>
																                                                                <option value="-1.50">-1.50</option>
																                                                                <option value="-1.25">-1.25</option>
																                                                                <option value="-1.00">-1.00</option>
																                                                                <option value="-0.75">-0.75</option>
																                                                                <option value="-0.50">-0.50</option>
																                                                                <option value="-0.25">-0.25</option>
																																<option value="" selected>Plano/None</option>
																                                                                <option value="+0.25">+0.25</option>
																                                                                <option value="+0.50">+0.50</option>
																                                                                <option value="+0.75">+0.75</option>
																                                                                <option value="+1.00">+1.00</option>
																                                                                <option value="+1.25">+1.25</option>
																                                                                <option value="+1.50">+1.50</option>
																                                                                <option value="+1.75">+1.75</option>
																                                                                <option value="+2.00">+2.00</option>
																                                                                <option value="+2.25">+2.25</option>
																                                                                <option value="+2.50">+2.50</option>
																                                                                <option value="+2.75">+2.75</option>
																                                                                <option value="+3.00">+3.00</option>
																                                                                <option value="+3.25">+3.25</option>
																                                                                <option value="+3.50">+3.50</option>
																                                                                <option value="+3.75">+3.75</option>
																                                                                <option value="+4.00">+4.00</option>
																                                                                <option value="+4.25">+4.25</option>
																                                                                <option value="+4.50">+4.50</option>
																                                                                <option value="+4.75">+4.75</option>
																                                                                <option value="+5.00">+5.00</option>
																                                                                <option value="+5.25">+5.25</option>
																                                                                <option value="+5.50">+5.50</option>
																                                                                <option value="+5.75">+5.75</option>
																                                                                <option value="+6.00">+6.00</option>
																                                                                <option value="+6.25">+6.25</option>
																                                                                <option value="+6.50">+6.50</option>
																                                                                <option value="+6.75">+6.75</option>
																                                                                <option value="+7.00">+7.00</option>
																                                                                <option value="+7.25">+7.25</option>
																                                                                <option value="+7.50">+7.50</option>
																                                                                <option value="+7.75">+7.75</option>
																                                                                <option value="+8.00">+8.00</option>
																                                                                <option value="+8.25">+8.25</option>
																                                                                <option value="+8.50">+8.50</option>
																                                                                <option value="+8.75">+8.75</option>
																                                                                <option value="+9.00">+9.00</option>
																                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control select checkwarn" id="os_cyl" name="os_cyl">
																                                                                <option value="-6.00">-6.00</option>
																                                                                <option value="-5.75">-5.75</option>
																                                                                <option value="-5.50">-5.50</option>
																                                                                <option value="-5.25">-5.25</option>
																                                                                <option value="-5.00">-5.00</option>
																                                                                <option value="-4.75">-4.75</option>
																                                                                <option value="-4.50">-4.50</option>
																                                                                <option value="-4.25">-4.25</option>
																                                                                <option value="-4.00">-4.00</option>
																                                                                <option value="-3.75">-3.75</option>
																                                                                <option value="-3.50">-3.50</option>
																                                                                <option value="-3.25">-3.25</option>
																                                                                <option value="-3.00">-3.00</option>
																                                                                <option value="-2.75">-2.75</option>
																                                                                <option value="-2.50">-2.50</option>
																                                                                <option value="-2.25">-2.25</option>
																                                                                <option value="-2.00">-2.00</option>
																                                                                <option value="-1.75">-1.75</option>
																                                                                <option value="-1.50">-1.50</option>
																                                                                <option value="-1.25">-1.25</option>
																                                                                <option value="-1.00">-1.00</option>
																                                                                <option value="-0.75">-0.75</option>
																                                                                <option value="-0.50">-0.50</option>
																                                                                <option value="-0.25">-0.25</option>
																																<option value="" selected>None</option>
																                                                                <option value="+0.25">+0.25</option>
																                                                                <option value="+0.50">+0.50</option>
																                                                                <option value="+0.75">+0.75</option>
																                                                                <option value="+1.00">+1.00</option>
																                                                                <option value="+1.25">+1.25</option>
																                                                                <option value="+1.50">+1.50</option>
																                                                                <option value="+1.75">+1.75</option>
																                                                                <option value="+2.00">+2.00</option>
																                                                                <option value="+2.25">+2.25</option>
																                                                                <option value="+2.50">+2.50</option>
																                                                                <option value="+2.75">+2.75</option>
																                                                                <option value="+3.00">+3.00</option>
																                                                                <option value="+3.25">+3.25</option>
																                                                                <option value="+3.50">+3.50</option>
																                                                                <option value="+3.75">+3.75</option>
																                                                                <option value="+4.00">+4.00</option>
																                                                                <option value="+4.25">+4.25</option>
																                                                                <option value="+4.50">+4.50</option>
																                                                                <option value="+4.75">+4.75</option>
																                                                                <option value="+5.00">+5.00</option>
																                                                                <option value="+5.25">+5.25</option>
																                                                                <option value="+5.50">+5.50</option>
																                                                                <option value="+5.75">+5.75</option>
																                                                                <option value="+6.00">+6.00</option>
																                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control select" id="os_axis" name="os_axis">
                                                                                                                                <option value="180">180</option>
																                                                                <option value="179">179</option>
																                                                                <option value="178">178</option>
																                                                                <option value="177">177</option>
																                                                                <option value="176">176</option>
																                                                                <option value="175">175</option>
																                                                                <option value="174">174</option>
																                                                                <option value="173">173</option>
																                                                                <option value="172">172</option>
																                                                                <option value="171">171</option>
																                                                                <option value="170">170</option>
																                                                                <option value="169">169</option>
																                                                                <option value="168">168</option>
																                                                                <option value="167">167</option>
																                                                                <option value="166">166</option>
																                                                                <option value="165">165</option>
																                                                                <option value="164">164</option>
																                                                                <option value="163">163</option>
																                                                                <option value="162">162</option>
																                                                                <option value="161">161</option>
																                                                                <option value="160">160</option>
																                                                                <option value="159">159</option>
																                                                                <option value="158">158</option>
																                                                                <option value="157">157</option>
																                                                                <option value="156">156</option>
																                                                                <option value="155">155</option>
																                                                                <option value="154">154</option>
																                                                                <option value="153">153</option>
																                                                                <option value="152">152</option>
																                                                                <option value="151">151</option>
																                                                                <option value="150">150</option>
																                                                                <option value="149">149</option>
																                                                                <option value="148">148</option>
																                                                                <option value="147">147</option>
																                                                                <option value="146">146</option>
																                                                                <option value="145">145</option>
																                                                                <option value="144">144</option>
																                                                                <option value="143">143</option>
																                                                                <option value="142">142</option>
																                                                                <option value="141">141</option>
																                                                                <option value="140">140</option>
																                                                                <option value="139">139</option>
																                                                                <option value="138">138</option>
																                                                                <option value="137">137</option>
																                                                                <option value="136">136</option>
																                                                                <option value="135">135</option>
																                                                                <option value="134">134</option>
																                                                                <option value="133">133</option>
																                                                                <option value="132">132</option>
																                                                                <option value="131">131</option>
																                                                                <option value="130">130</option>
																                                                                <option value="129">129</option>
																                                                                <option value="128">128</option>
																                                                                <option value="127">127</option>
																                                                                <option value="126">126</option>
																                                                                <option value="125">125</option>
																                                                                <option value="124">124</option>
																                                                                <option value="123">123</option>
																                                                                <option value="122">122</option>
																                                                                <option value="121">121</option>
																                                                                <option value="120">120</option>
																                                                                <option value="119">119</option>
																                                                                <option value="118">118</option>
																                                                                <option value="117">117</option>
																                                                                <option value="116">116</option>
																                                                                <option value="115">115</option>
																                                                                <option value="114">114</option>
																                                                                <option value="113">113</option>
																                                                                <option value="112">112</option>
																                                                                <option value="111">111</option>
																                                                                <option value="110">110</option>
																                                                                <option value="109">109</option>
																                                                                <option value="108">108</option>
																                                                                <option value="107">107</option>
																                                                                <option value="106">106</option>
																                                                                <option value="105">105</option>
																                                                                <option value="104">104</option>
																                                                                <option value="103">103</option>
																                                                                <option value="102">102</option>
																                                                                <option value="101">101</option>
																                                                                <option value="100">100</option>
																                                                                <option value="99">99</option>
																                                                                <option value="98">98</option>
																                                                                <option value="97">97</option>
																                                                                <option value="96">96</option>
																                                                                <option value="95">95</option>
																                                                                <option value="94">94</option>
																                                                                <option value="93">93</option>
																                                                                <option value="92">92</option>
																                                                                <option value="91">91</option>
																                                                                <option value="90">90</option>
																                                                                <option value="89">89</option>
																                                                                <option value="88">88</option>
																                                                                <option value="87">87</option>
																                                                                <option value="86">86</option>
																                                                                <option value="85">85</option>
																                                                                <option value="84">84</option>
																                                                                <option value="83">83</option>
																                                                                <option value="82">82</option>
																                                                                <option value="81">81</option>
																                                                                <option value="80">80</option>
																                                                                <option value="79">79</option>
																                                                                <option value="78">78</option>
																                                                                <option value="77">77</option>
																                                                                <option value="76">76</option>
																                                                                <option value="75">75</option>
																                                                                <option value="74">74</option>
																                                                                <option value="73">73</option>
																                                                                <option value="72">72</option>
																                                                                <option value="71">71</option>
																                                                                <option value="70">70</option>
																                                                                <option value="69">69</option>
																                                                                <option value="68">68</option>
																                                                                <option value="67">67</option>
																                                                                <option value="66">66</option>
																                                                                <option value="65">65</option>
																                                                                <option value="64">64</option>
																                                                                <option value="63">63</option>
																                                                                <option value="62">62</option>
																                                                                <option value="61">61</option>
																                                                                <option value="60">60</option>
																                                                                <option value="59">59</option>
																                                                                <option value="58">58</option>
																                                                                <option value="57">57</option>
																                                                                <option value="56">56</option>
																                                                                <option value="55">55</option>
																                                                                <option value="54">54</option>
																                                                                <option value="53">53</option>
																                                                                <option value="52">52</option>
																                                                                <option value="51">51</option>
																                                                                <option value="50">50</option>
																                                                                <option value="49">49</option>
																                                                                <option value="48">48</option>
																                                                                <option value="47">47</option>
																                                                                <option value="46">46</option>
																                                                                <option value="45">45</option>
																                                                                <option value="44">44</option>
																                                                                <option value="43">43</option>
																                                                                <option value="42">42</option>
																                                                                <option value="41">41</option>
																                                                                <option value="40">40</option>
																                                                                <option value="39">39</option>
																                                                                <option value="38">38</option>
																                                                                <option value="37">37</option>
																                                                                <option value="36">36</option>
																                                                                <option value="35">35</option>
																                                                                <option value="34">34</option>
																                                                                <option value="33">33</option>
																                                                                <option value="32">32</option>
																                                                                <option value="31">31</option>
																                                                                <option value="30">30</option>
																                                                                <option value="29">29</option>
																                                                                <option value="28">28</option>
																                                                                <option value="27">27</option>
																                                                                <option value="26">26</option>
																                                                                <option value="25">25</option>
																                                                                <option value="24">24</option>
																                                                                <option value="23">23</option>
																                                                                <option value="22">22</option>
																                                                                <option value="21">21</option>
																                                                                <option value="20">20</option>
																                                                                <option value="19">19</option>
																                                                                <option value="18">18</option>
																                                                                <option value="17">17</option>
																                                                                <option value="16">16</option>
																                                                                <option value="15">15</option>
																                                                                <option value="14">14</option>
																                                                                <option value="13">13</option>
																                                                                <option value="12">12</option>
																                                                                <option value="11">11</option>
																                                                                <option value="10">10</option>
																                                                                <option value="9">9</option>
																                                                                <option value="8">8</option>
																                                                                <option value="7">7</option>
																                                                                <option value="6">6</option>
																                                                                <option value="5">5</option>
																                                                                <option value="4">4</option>
																                                                                <option value="3">3</option>
																                                                                <option value="2">2</option>
																                                                                <option value="1">1</option>
																																<option value="" selected>None</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control select checkwarn" id="os_add" name="os_add">
                                                                                                                                <option value="+4.00">+4.00</option>
																                                                                <option value="+3.75">+3.75</option>
																                                                                <option value="+3.50">+3.50</option>
																                                                                <option value="+3.25">+3.25</option>
																                                                                <option value="+3.00">+3.00</option>
																                                                                <option value="+2.75">+2.75</option>
																                                                                <option value="+2.50">+2.50</option>
																                                                                <option value="+2.25">+2.25</option>
																                                                                <option value="+2.00">+2.00</option>
																                                                                <option value="+1.75">+1.75</option>
																                                                                <option value="+1.50">+1.50</option>
																                                                                <option value="+1.25">+1.25</option>
																                                                                <option value="+1.00">+1.00</option>
																                                                                <option value="+0.75">+0.75</option>
																                                                                <option value="+0.50">+0.50</option>
																                                                                <option value="+0.25">+0.25</option>
																																<option value="" selected>None</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="clearfix col-sm-12"><hr></div>
										<div class="col-sm-6">
                                            <p>
												<label for="is_prism " class="font_16">
													<strong>PD</strong>
													<i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="PD, or pupillary distance, refers to the distance in millimeters between the center of one pupil to the center of the other. Having a correct PD on your glasses prescription insures that you are looking through the ideal spot in your lenses." data-placement="top"></i>
												</label>
											</p>
                                            <div class="table1 single_table">
												<label for="choose_single_pd">
													<input type="radio" id="choose_single_pd" name="choose_pd" checked>
													Single
												</label>
												<label for="choose_dual_pd">
													<input type="radio" id="choose_dual_pd" name="choose_pd">
													Dual
												</label>
                                                <table class="table">
                                                    <thead>
                                                        <tr id="dual_pd_th" class="hide">
                                                           <!-- <td></td>-->
                                                            <td class="phead">RIGHT PD</td>
                                                            <td class="phead">LEFT PD</td>
                                                        </tr>
														<tr id="single_pd_th">
                                                            <!--<td></td>-->
                                                            <td class="phead">SINGLE PD</td>
															<td></td>
                                                        </tr>
                                                    </thead>
                                                    <tr id="dual_pd" class="hide">
                                                        <!--<td class="lft"></td>-->
                                                        <td>
                                                            <select class="form-control select checkwarn" id="dpd_right" name="dpd_right">
																<option value="" selected>Select</option>
                                                                                                                                <option value="40" >40</option>
																                                                                <option value="39.5" >39.5</option>
																                                                                <option value="39" >39</option>
																                                                                <option value="38.5" >38.5</option>
																                                                                <option value="38" >38</option>
																                                                                <option value="37.5" >37.5</option>
																                                                                <option value="37" >37</option>
																                                                                <option value="36.5" >36.5</option>
																                                                                <option value="36" >36</option>
																                                                                <option value="35.5" >35.5</option>
																                                                                <option value="35" >35</option>
																                                                                <option value="34.5" >34.5</option>
																                                                                <option value="34" >34</option>
																                                                                <option value="33.5" >33.5</option>
																                                                                <option value="33" >33</option>
																                                                                <option value="32.5" >32.5</option>
																                                                                <option value="32" >32</option>
																                                                                <option value="31.5" >31.5</option>
																                                                                <option value="31" >31</option>
																                                                                <option value="30.5" >30.5</option>
																                                                                <option value="30" >30</option>
																                                                                <option value="29.5" >29.5</option>
																                                                                <option value="29" >29</option>
																                                                                <option value="28.5" >28.5</option>
																                                                                <option value="28" >28</option>
																                                                                <option value="27.5" >27.5</option>
																                                                                <option value="27" >27</option>
																                                                                <option value="26.5" >26.5</option>
																                                                                <option value="26" >26</option>
																                                                                <option value="25.5" >25.5</option>
																                                                                <option value="25" >25</option>
																                                                                <option value="24.5" >24.5</option>
																                                                                <option value="24" >24</option>
																                                                                <option value="23.5" >23.5</option>
																                                                                <option value="23" >23</option>
																                                                            </select>
                                                        </td>
														<td>
                                                            <select class="form-control select checkwarn" id="dpd_left" name="dpd_left">
																<option value="" selected>Select</option>
                                                                                                                                <option value="40" >40</option>
																                                                                <option value="39.5" >39.5</option>
																                                                                <option value="39" >39</option>
																                                                                <option value="38.5" >38.5</option>
																                                                                <option value="38" >38</option>
																                                                                <option value="37.5" >37.5</option>
																                                                                <option value="37" >37</option>
																                                                                <option value="36.5" >36.5</option>
																                                                                <option value="36" >36</option>
																                                                                <option value="35.5" >35.5</option>
																                                                                <option value="35" >35</option>
																                                                                <option value="34.5" >34.5</option>
																                                                                <option value="34" >34</option>
																                                                                <option value="33.5" >33.5</option>
																                                                                <option value="33" >33</option>
																                                                                <option value="32.5" >32.5</option>
																                                                                <option value="32" >32</option>
																                                                                <option value="31.5" >31.5</option>
																                                                                <option value="31" >31</option>
																                                                                <option value="30.5" >30.5</option>
																                                                                <option value="30" >30</option>
																                                                                <option value="29.5" >29.5</option>
																                                                                <option value="29" >29</option>
																                                                                <option value="28.5" >28.5</option>
																                                                                <option value="28" >28</option>
																                                                                <option value="27.5" >27.5</option>
																                                                                <option value="27" >27</option>
																                                                                <option value="26.5" >26.5</option>
																                                                                <option value="26" >26</option>
																                                                                <option value="25.5" >25.5</option>
																                                                                <option value="25" >25</option>
																                                                                <option value="24.5" >24.5</option>
																                                                                <option value="24" >24</option>
																                                                                <option value="23.5" >23.5</option>
																                                                                <option value="23" >23</option>
																                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr id="single_pd">
                                                        <!--<td class="lft"></td>-->
                                                        <td>
                                                            <select class="form-control select checkwarn" id="pd_single" name="pd_single">
                                                                <option value="" selected>Select</option>
                                                                47                                                                <option value="79" >79</option>
																                                                                <option value="78" >78</option>
																                                                                <option value="77" >77</option>
																                                                                <option value="76" >76</option>
																                                                                <option value="75" >75</option>
																                                                                <option value="74" >74</option>
																                                                                <option value="73" >73</option>
																                                                                <option value="72" >72</option>
																                                                                <option value="71" >71</option>
																                                                                <option value="70" >70</option>
																                                                                <option value="69" >69</option>
																                                                                <option value="68" >68</option>
																                                                                <option value="67" >67</option>
																                                                                <option value="66" >66</option>
																                                                                <option value="65" >65</option>
																                                                                <option value="64" >64</option>
																                                                                <option value="63" >63</option>
																                                                                <option value="62" >62</option>
																                                                                <option value="61" >61</option>
																                                                                <option value="60" >60</option>
																                                                                <option value="59" >59</option>
																                                                                <option value="58" >58</option>
																                                                                <option value="57" >57</option>
																                                                                <option value="56" >56</option>
																                                                                <option value="55" >55</option>
																                                                                <option value="54" >54</option>
																                                                                <option value="53" >53</option>
																                                                                <option value="52" >52</option>
																                                                                <option value="51" >51</option>
																                                                                <option value="50" >50</option>
																                                                                <option value="49" >49</option>
																                                                                <option value="48" >48</option>
																                                                                <option value="47" >47</option>
																                                                            </select>
                                                        </td>
														<td></td>
                                                    </tr>
													<tr>
														<input type="hidden" name="pdtype" id="pdtype" value="single">
														<!--<td></td>
														<td><p><a href="javascript:void(0);" id="showpd">I have 2 PD numbers</a></p></td>-->
													<tr>
                                                </table>
                                            </div>
                                        </div>										
                                        <div class="col-sm-6 ">
                                            <p>
												<input type="hidden" name="prismvalue" id="prismvalue" value="no">
												<label for="is_prism" class="prim_checkbox">
													<input type="checkbox" id="is_prism" value="">
													<strong>PRISM</strong>
													<i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="This is the amount of prismatic power, measured in prism diopters (`p.d.` or a superscript triangle when written freehand), prescribed to compensate for eye alignment problems. Only a small percentage of eyeglass prescriptions include prism." data-placement="top"></i>
												</label>
											</p>
											<div class="" id="showprism">
												<div class="table1 showprism">
													<table class="table ">
														<thead>
															<tr>
																<td></td>
																<td class="phead">Prism</td>
																<td class="phead">Base Direction</td>
															</tr>
														</thead>
														<tr>
															<td class="lft"><span class="form-control">Right</span></td>
															<td>
																<select class="form-control select checkwarn prism-dropdown" id="od_prism" name="od_prism">
																	<option value="" selected>Select</option>
																																		<option value="5.00">5.00</option>
																																		<option value="4.75">4.75</option>
																																		<option value="4.50">4.50</option>
																																		<option value="4.25">4.25</option>
																																		<option value="4.00">4.00</option>
																																		<option value="3.75">3.75</option>
																																		<option value="3.50">3.50</option>
																																		<option value="3.25">3.25</option>
																																		<option value="3.00">3.00</option>
																																		<option value="2.75">2.75</option>
																																		<option value="2.50">2.50</option>
																																		<option value="2.25">2.25</option>
																																		<option value="2.00">2.00</option>
																																		<option value="1.75">1.75</option>
																																		<option value="1.50">1.50</option>
																																		<option value="1.25">1.25</option>
																																		<option value="1.00">1.00</option>
																																		<option value="0.75">0.75</option>
																																		<option value="0.50">0.50</option>
																																		<option value="0.25">0.25</option>
																																	</select>
															</td>
															<td>
																<select class="form-control select checkwarn prism-dropdown" id="od_direction" name="od_direction">
																	<option value="" selected>Select</option>
																	<option value="IN" cid="" price="0">IN</option>
																	<option value="OUT" cid="" price="0">OUT</option>
																	<option value="UP" cid="" price="0">UP</option>
																	<option value="DOWN" cid="" price="0">DOWN</option>
																</select>
															</td>
														</tr>
														<tr>
															<td class="lft"><span class="form-control">Left</span></td>
															<td>
																<select class="form-control select checkwarn prism-dropdown" id="os_prism" name="os_prism">
																	<option value="" selected>Select</option>
																																		<option value="5.00">5.00</option>
																																		<option value="4.75">4.75</option>
																																		<option value="4.50">4.50</option>
																																		<option value="4.25">4.25</option>
																																		<option value="4.00">4.00</option>
																																		<option value="3.75">3.75</option>
																																		<option value="3.50">3.50</option>
																																		<option value="3.25">3.25</option>
																																		<option value="3.00">3.00</option>
																																		<option value="2.75">2.75</option>
																																		<option value="2.50">2.50</option>
																																		<option value="2.25">2.25</option>
																																		<option value="2.00">2.00</option>
																																		<option value="1.75">1.75</option>
																																		<option value="1.50">1.50</option>
																																		<option value="1.25">1.25</option>
																																		<option value="1.00">1.00</option>
																																		<option value="0.75">0.75</option>
																																		<option value="0.50">0.50</option>
																																		<option value="0.25">0.25</option>
																																	</select>
															</td>
															<td>
																<select class="form-control select checkwarn prism-dropdown" id="os_direction" name="os_direction">
																	<option value="" selected>Select</option>
																	<option value="IN" cid="" price="0">IN</option>
																	<option value="OUT" cid="" price="0">OUT</option>
																	<option value="UP" cid="" price="0">UP</option>
																	<option value="DOWN" cid="" price="0">DOWN</option>
																</select>
															</td>
														</tr>
													</table>
												</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row small-gap">
										<div class="col-sm-12 load-prescription">
											<a href="javascript:void(0);" onclick="reset_fields();" class="pull-right red-btn reset_btn">Reset</a>
										</div>
                                    </div>
                                    <div class="load-prescription tp-gp">
                                          <!--   <div class="checkbox">-->
                                        <div class="priscription_table">
                                            
                                        </div>
										<div class="btn_wrap">
											<label for="is_prescription">
												<input type="checkbox" name="is_prescription" id="is_prescription" value="yes">I have no prescription it’s for cosmetic purpose only
											</label>
											<a class="red-btn black-btn pull-right next_btn" data-toggle="tab" href="" onclick="firstNextStep();">Next</a>
										</div>
                                    </div>
                                </div>
                                <div id="step2" class="tab-pane fade">
                                    <h3 class="red"><strong>Pick Lens</strong> - Pace 2 (Rx Type)</h3>
									<input type="hidden" name="Rxtype" id="Rxtype" value="">
									<input type="hidden" name="Rxtypeid" id="Rxtypeid" value="">
									<input type="hidden" name="Rxtypeclicked" id="Rxtypeclicked" value="">
									<input type="hidden" name="Rxrefresh" id="Rxrefresh" value="">
                                    <div class="row">
																				<div class="col-sm-6">
                                            <div class="rx-box rx_type" rxid="1" rxlabel="Distance">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Rx%20Type%20Option/RX-Distance-icon-40x40.png" class="img-responsive" alt="Distance"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">DISTANCE</p><hr>
                                                    <p><p>It&rsquo;s a <strong>Single Vision&nbsp;</strong>Lens which corrects poor vision in <strong>far viewing</strong> situations.</p>
</p>
												</div>
                                            </div>
                                        </div>
																				<div class="col-sm-6">
                                            <div class="rx-box rx_type" rxid="2" rxlabel="Reading">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Rx%20Type%20Option/RX-Reading-icon-40x40.png" class="img-responsive" alt="Reading"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">Reading</p><hr>
                                                    <p><p>It&rsquo;s a <strong>Single Vision</strong> Lens which corrects poor vision in <strong>near viewing</strong> situations.</p>
</p>
												</div>
                                            </div>
                                        </div>
																				<div class="clearfix"></div>
																				<div class="col-sm-6">
                                            <div class="rx-box rx_type" rxid="3" rxlabel="Bifocal">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Rx%20Type%20Option/RX-Bifocal-icon-40x40.png" class="img-responsive" alt="Bifocal"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">BI-FOCAL</p><hr>
                                                    <p><p>It&rsquo;s a Multifocal Lens which corrects poor vision in <strong>far and near viewing</strong> situations. A visible line separates its viewing areas!</p>
</p>
												</div>
                                            </div>
                                        </div>
																				<div class="col-sm-6">
                                            <div class="rx-box rx_type" rxid="4" rxlabel="Progressive">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Rx%20Type%20Option/RX-Progressive-icon-40x40.png" class="img-responsive" alt="Progressive"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">Progressive</p><hr>
                                                    <p><p>It&rsquo;s a Multifocal Lens which corrects poor vision in <strong>far and near viewing</strong> situations.&nbsp;Visible line is not seen in these lenses!</p>
</p>
												</div>
                                            </div>
                                        </div>
																				<div class="clearfix"></div>
										                                        <div class="clearfix"></div>
                                        <div class="rx-buttons col-sm-12">
                                            <a  data-toggle="tab" href="" onclick="secondPrevStep();" class="red-btn prev_btn">Previous</a>
                                            <a  data-toggle="tab" href="" onclick="secoundNextStep();" class="red-btn black-btn pull-right next_btn">Next</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="step3" class="tab-pane fade">
                                    <h3 class="red"><strong>Pick Lens</strong> - Pace 3 (Lens Type)</h3>
									<input type="hidden" name="Lenstype" id="Lenstype" value="">
									<input type="hidden" name="Lenstypeid" id="Lenstypeid" value="">
									<input type="hidden" name="Lenstypeclicked" id="Lenstypeclicked" value="">
									<input type="hidden" name="Lensrefresh" id="Lensrefresh" value="">
                                    <div class="row">
										                                        <div class="col-sm-6">
                                            <div class="rx-box lens_type lens_type_clear" lensid="1" lenslabel="Clear">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Lens%20Option/clear-lens-40x40.png" class="img-responsive" alt="Clear"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">CLEAR LENS</p><hr>
                                                    <p><p>These lenses are always clear in color either at indoor or outdoor.</p>
</p>
												</div>
                                            </div>
                                        </div>
										                                        <div class="col-sm-6">
                                            <div class="rx-box lens_type lens_type_sunglass" lensid="2" lenslabel="Sunglass">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Lens%20Option/color-sunglass-40x40.png" class="img-responsive" alt="Sunglass"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">COLOR (SUNGLASS) LENS</p><hr>
                                                    <p><p>These lenses are always stays at dark and is commonly used for sunglasses.</p>
</p>
												</div>
                                            </div>
                                        </div>
																				                                        <div class="col-sm-6">
                                            <div class="rx-box lens_type lens_type_photochromic" lensid="3" lenslabel="Photochromic">
                                                <span>
													<img src="image/cache/catalog/Rx%20option/Lens%20Option/photochromic-40x40.png" class="img-responsive" alt="Photochromic"/>
												</span>
                                                <div>
                                                    <p class="rx-heading">PHOTOCHROMIC/ADAPTIVE LENS</p><hr>
                                                    <p><p>Lenses that darken on exposure to light that gives you variable tint to protect your eyes from harmful rays.</p>
</p>
												</div>
                                            </div>
                                        </div>
																				                                        <div class="col-sm-6 hide tint_options">
											<input type="hidden" id="my_selected_tint" name="my_selected_tint" value="">
                                            <div class="rx-box tint">
                                                <div class="blank-div">
                                                    <p class="text-center"><strong>Select your tint here</strong></p>
                                                    <div class="row">
																													<div class="col-md-12">
																<div class="tiny-box">
																	<p><strong>Solid Tint  ( Add <i class="red">$10.00</i> )</strong></p>
																	<div class="tint-color-box">
																		<div class="radio-group">
																			<label class="radio-inline"><input type="radio" name="type_" tintlabel="solid_tint" value="light" checked class="my_tint_type rlight_solid_tint">Light</label>
																			<label class="radio-inline"><input type="radio" name="type_" value="medium" tintlabel="solid_tint" class="my_tint_type rmedium_solid_tint">Medium</label>
																			<label class="radio-inline"><input type="radio" name="type_" tintlabel="solid_tint" value="dark" class="my_tint_type rdark_solid_tint">Dark</label>
																		</div>
																	</div>
																	<div class="shift-left">
																																																						<label class="custom_radio hide dark_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_solid_tint" type="radio" name="choose_tint" value="15" price="10.0000">
																			<span class="checkmark" style="background-color:#8c8c8c"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_solid_tint" type="radio" name="choose_tint" value="18" price="10.0000">
																			<span class="checkmark" style="background-color:#b62f2f"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_solid_tint" type="radio" name="choose_tint" value="21" price="10.0000">
																			<span class="checkmark" style="background-color:#009900"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_solid_tint" type="radio" name="choose_tint" value="24" price="10.0000">
																			<span class="checkmark" style="background-color:#ffff1a"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_solid_tint" type="radio" name="choose_tint" value="27" price="10.0000">
																			<span class="checkmark" style="background-color:#0d0d0d"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_solid_tint" type="radio" name="choose_tint" value="30" price="10.0000">
																			<span class="checkmark" style="background-color:#1a1aff"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_solid_tint" type="radio" name="choose_tint" value="16" price="10.0000">
																			<span class="checkmark" style="background-color:#b3b3b3"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_solid_tint" type="radio" name="choose_tint" value="19" price="10.0000">
																			<span class="checkmark" style="background-color:#d55d5d"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_solid_tint" type="radio" name="choose_tint" value="22" price="10.0000">
																			<span class="checkmark" style="background-color:#00e600"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_solid_tint" type="radio" name="choose_tint" value="25" price="10.0000">
																			<span class="checkmark" style="background-color:#ffff66"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_solid_tint" type="radio" name="choose_tint" value="28" price="10.0000">
																			<span class="checkmark" style="background-color:#333333"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_solid_tint" type="radio" name="choose_tint" value="31" price="10.0000">
																			<span class="checkmark" style="background-color:#4d4dff"></span>
																		</label>
																																																																								<label class="custom_radio light_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_solid_tint" type="radio" name="choose_tint" value="17" price="10.0000">
																			<span class="checkmark" style="background-color:#d9d9d9"></span>
																		</label>
																																																																								<label class="custom_radio light_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_solid_tint" type="radio" name="choose_tint" value="20" price="10.0000">
																			<span class="checkmark" style="background-color:#e59a9a"></span>
																		</label>
																																																																								<label class="custom_radio light_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_solid_tint" type="radio" name="choose_tint" value="23" price="10.0000">
																			<span class="checkmark" style="background-color:#80ff80"></span>
																		</label>
																																																																								<label class="custom_radio light_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_solid_tint" type="radio" name="choose_tint" value="26" price="10.0000">
																			<span class="checkmark" style="background-color:#ffff99"></span>
																		</label>
																																																																								<label class="custom_radio light_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_solid_tint" type="radio" name="choose_tint" value="29" price="10.0000">
																			<span class="checkmark" style="background-color:#666666"></span>
																		</label>
																																																																								<label class="custom_radio light_solid_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_solid_tint" type="radio" name="choose_tint" value="32" price="10.0000">
																			<span class="checkmark" style="background-color:#9999ff"></span>
																		</label>
																																																					</div>
																</div>
															</div>
																													<div class="col-md-12">
																<div class="tiny-box">
																	<p><strong>Gradiant Tint  ( Add <i class="red">$10.00</i> )</strong></p>
																	<div class="tint-color-box">
																		<div class="radio-group">
																			<label class="radio-inline"><input type="radio" name="type_" tintlabel="gradiant_tint" value="light"  class="my_tint_type rlight_gradiant_tint">Light</label>
																			<label class="radio-inline"><input type="radio" name="type_" value="medium" tintlabel="gradiant_tint" class="my_tint_type rmedium_gradiant_tint">Medium</label>
																			<label class="radio-inline"><input type="radio" name="type_" tintlabel="gradiant_tint" value="dark" class="my_tint_type rdark_gradiant_tint">Dark</label>
																		</div>
																	</div>
																	<div class="shift-left">
																																																						<label class="custom_radio light_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_gradiant_tint" type="radio" name="choose_tint" value="33" price="10.0000">
																			<span class="checkmark" style="background-color:#d9d9d9"></span>
																		</label>
																																																																								<label class="custom_radio light_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_gradiant_tint" type="radio" name="choose_tint" value="41" price="10.0000">
																			<span class="checkmark" style="background-color:#9999ff"></span>
																		</label>
																																																																								<label class="custom_radio light_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_gradiant_tint" type="radio" name="choose_tint" value="43" price="10.0000">
																			<span class="checkmark" style="background-color:#666666"></span>
																		</label>
																																																																								<label class="custom_radio light_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_gradiant_tint" type="radio" name="choose_tint" value="45" price="10.0000">
																			<span class="checkmark" style="background-color:#ffff99"></span>
																		</label>
																																																																								<label class="custom_radio light_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_gradiant_tint" type="radio" name="choose_tint" value="47" price="10.0000">
																			<span class="checkmark" style="background-color:#80ff80"></span>
																		</label>
																																																																								<label class="custom_radio light_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rlight_gradiant_tint" type="radio" name="choose_tint" value="49" price="10.0000">
																			<span class="checkmark" style="background-color:#e59a9a"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_gradiant_tint" type="radio" name="choose_tint" value="34" price="10.0000">
																			<span class="checkmark" style="background-color:#ffff1a"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_gradiant_tint" type="radio" name="choose_tint" value="36" price="10.0000">
																			<span class="checkmark" style="background-color:#009900"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_gradiant_tint" type="radio" name="choose_tint" value="38" price="10.0000">
																			<span class="checkmark" style="background-color:#b62f2f"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_gradiant_tint" type="radio" name="choose_tint" value="40" price="10.0000">
																			<span class="checkmark" style="background-color:#8c8c8c"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_gradiant_tint" type="radio" name="choose_tint" value="48" price="10.0000">
																			<span class="checkmark" style="background-color:#1a1aff"></span>
																		</label>
																																																																								<label class="custom_radio hide dark_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rdark_gradiant_tint" type="radio" name="choose_tint" value="50" price="10.0000">
																			<span class="checkmark" style="background-color:#0d0d0d"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_gradiant_tint" type="radio" name="choose_tint" value="35" price="10.0000">
																			<span class="checkmark" style="background-color:#4d4dff"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_gradiant_tint" type="radio" name="choose_tint" value="37" price="10.0000">
																			<span class="checkmark" style="background-color:#333333"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_gradiant_tint" type="radio" name="choose_tint" value="39" price="10.0000">
																			<span class="checkmark" style="background-color:#ffff66"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_gradiant_tint" type="radio" name="choose_tint" value="42" price="10.0000">
																			<span class="checkmark" style="background-color:#00e600"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_gradiant_tint" type="radio" name="choose_tint" value="44" price="10.0000">
																			<span class="checkmark" style="background-color:#d55d5d"></span>
																		</label>
																																																																								<label class="custom_radio hide medium_gradiant_tint" data-toggle="tooltip" data-placement="top" title="Add $10.00">
																			<input tinttype="rmedium_gradiant_tint" type="radio" name="choose_tint" value="46" price="10.0000">
																			<span class="checkmark" style="background-color:#b3b3b3"></span>
																		</label>
																																																					</div>
																</div>
															</div>
														                                                        <div class="col-sm-12">
                                                            <div class="checkbox">
                                                                <label class="red">
																	<input type="checkbox" name="no_tint_required" id="no_tint_required" value="0">Tint not required i will select a ready tinted/polarized
																</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
										<div class="clearfix"></div>
                                        <div class="rx-buttons col-sm-12">
                                            <a  data-toggle="tab" href="" onclick="thirdPrevStep();" class="red-btn prev_btn">Previous</a>
                                            <a  data-toggle="tab" href="" onclick="thirdNextStep();" class="red-btn black-btn pull-right next_btn">Next</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="step4" class="tab-pane fade">
                                    <h3 class="red"><strong>Pick Lens</strong> - Pace 4 (Lens Option)</h3>
                                    <div class="row" id="">
										<input type="hidden" name="my_lense_id" id="my_lense_id" value="">
										<input type="hidden" name="my_lense_price" id="my_lense_price" value="">
										<input type="hidden" name="Mylensclicked" id="Mylensclicked" value="">
										<input type="hidden" name="Mylensrefresh" id="Mylensrefresh" value="">
                                        <div id="pick_lens_parent"><div class="col-sm-6">
	<div class="lencebox add_lens" tintready="1" lensid="67" lensprice="90.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA 1.5">
		</span>
		<div>
			<p class="rx-heading">VIVA 1.5</p><hr>
			<p></p><p>Tinted &nbsp;regular lens 1.5</p>
<p></p>
			<p class="red">Add $90.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="0" lensid="68" lensprice="300.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA THIN LENS 1.6">
		</span>
		<div>
			<p class="rx-heading">VIVA THIN LENS 1.6</p><hr>
			<p></p><p>TINTED Best balanced high index lens material with refractive index of 1.6</p>
<p></p>
			<p class="red">Add $300.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="0" lensid="70" lensprice="680.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA ULTRA THIN  1.74">
		</span>
		<div>
			<p class="rx-heading">VIVA ULTRA THIN  1.74</p><hr>
			<p></p><p>TINTED Ultra high index plastic lens for minimuim thickness lenseses. with refractive index of 1.74</p>
<p></p>
			<p class="red">Add $680.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="1" lensid="71" lensprice="300.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="NUPOLAR GREY 1.5">
		</span>
		<div>
			<p class="rx-heading">NUPOLAR GREY 1.5</p><hr>
			<p></p><p>POLARIZED GREY 1.5, Most popular sun lens color, great for very bright conditions</p>
<p></p>
			<p class="red">Add $300.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="1" lensid="73" lensprice="300.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="NUPOLAR BRWON 1.5">
		</span>
		<div>
			<p class="rx-heading">NUPOLAR BRWON 1.5</p><hr>
			<p></p><p>POLARIZED BROWN 1.5, Higher contrast, excellent visual acuity in lush, green environments&nbsp;</p>
<p></p>
			<p class="red">Add $300.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="0" lensid="75" lensprice="300.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="NUPOLAR G15 1.5">
		</span>
		<div>
			<p class="rx-heading">NUPOLAR G15 1.5</p><hr>
			<p></p><p>POLARIZED G15 1.5,Pleasant green color with advanced polarization</p>
<p></p>
			<p class="red">Add $300.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="0" lensid="77" lensprice="40.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="PINK TINTED  GLASS  1.5">
		</span>
		<div>
			<p class="rx-heading">PINK TINTED  GLASS  1.5</p><hr>
			<p></p><p>Tinted White Clear Glass With Refractive Index Of 1.5Pink</p>
<p></p>
			<p class="red">Add $40.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="1" lensid="79" lensprice="40.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="BROWN TINTED  GLASS  1.5">
		</span>
		<div>
			<p class="rx-heading">BROWN TINTED  GLASS  1.5</p><hr>
			<p></p><p>Tinted White Clear Glass With Refractive Index of 1.5 Brown</p>
<p></p>
			<p class="red">Add $40.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="1" lensid="81" lensprice="300.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA THIN LENS 1.6">
		</span>
		<div>
			<p class="rx-heading">VIVA THIN LENS 1.6</p><hr>
			<p></p><p>TINTED Best balanced high index lens material with refractive index of 1.6</p>
<p></p>
			<p class="red">Add $300.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="1" lensid="83" lensprice="680.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA ULTRA THIN  1.74">
		</span>
		<div>
			<p class="rx-heading">VIVA ULTRA THIN  1.74</p><hr>
			<p></p><p>TINTED Ultra high index plastic lens for minimuim thickness lenseses. with refractive index of 1.74</p>
<p></p>
			<p class="red">Add $680.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="0" lensid="85" lensprice="680.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA ULTRA THIN  1.74">
		</span>
		<div>
			<p class="rx-heading">VIVA ULTRA THIN  1.74</p><hr>
			<p></p><p>TINTED Ultra high index plastic lens for minimuim thickness lenseses. with refractive index of 1.74</p>
<p></p>
			<p class="red">Add $680.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="lencebox add_lens" tintready="0" lensid="87" lensprice="680.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="VIVA ULTRA THIN  1.74">
		</span>
		<div>
			<p class="rx-heading">VIVA ULTRA THIN  1.74</p><hr>
			<p></p><p>TINTED Ultra high index plastic lens for minimuim thickness lenseses. with refractive index of 1.74</p>
<p></p>
			<p class="red">Add $680.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
</div>
                                        <div class="clearfix"></div>
                                        <div class="rx-buttons col-sm-12">
                                            <a  data-toggle="tab" href="" onclick="fourthPrevStep();" class="red-btn prev_btn">Previous</a>
                                            <a  data-toggle="tab" href="" onclick="fourthNextStep();" class="red-btn black-btn pull-right next_btn">Next</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="step5" class="tab-pane fade">
                                    <h3 class="red"><strong>Pick Lens</strong> - Pace 5 (Coating Option)</h3>
                                    <div class="row">
                                        <input type="hidden" name="my_coating_id" id="my_coating_id" value="">
										<input type="hidden" name="my_coating_price" id="my_coating_price" value="">
                                        <div id="pick_coating_parent"><div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="2" coatingprice="100.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="Anti Reflection Coating&nbsp;">
		</span>
		<div>
			<p class="rx-heading">Anti Reflection Coating&nbsp;</p><hr>
			<p></p><p>Anti Reflection Coating</p>
<p></p>
			<p class="red">Add $100.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="3" coatingprice="200.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="BluWall Coating - Triano">
		</span>
		<div>
			<p class="rx-heading">BluWall Coating - Triano</p><hr>
			<p></p><p>BluWall coatings provide Blue light protection for your eyes</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="4" coatingprice="200.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="Full Mirror Coating-Green">
		</span>
		<div>
			<p class="rx-heading">Full Mirror Coating-Green</p><hr>
			<p></p><p>Mirror coatings with anti-reflection coating at the back side of the lens</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="5" coatingprice="200.0000">
		<span>
			<img src="image/cache/catalog/Lens-157-UNCOATED-40x40.png" class="img-responsive" alt="Full Mirror Coating-Red">
		</span>
		<div>
			<p class="rx-heading">Full Mirror Coating-Red</p><hr>
			<p></p><p>Mirror coatings with anti-reflection coating at the back side of the lens</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="6" coatingprice="200.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="Full Mirror Coating-Blue">
		</span>
		<div>
			<p class="rx-heading">Full Mirror Coating-Blue</p><hr>
			<p></p><p>Mirror coatings with anti-reflection coating at the back side of the lens</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="7" coatingprice="200.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="Full Mirror Coating-Gold">
		</span>
		<div>
			<p class="rx-heading">Full Mirror Coating-Gold</p><hr>
			<p></p><p>Mirror coatings with anti-reflection coating at the back side of the lens</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="8" coatingprice="200.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="Full Mirror Coating-Silver">
		</span>
		<div>
			<p class="rx-heading">Full Mirror Coating-Silver</p><hr>
			<p></p><p>Mirror coatings with anti-reflection coating at the back side of the lens</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="9" coatingprice="250.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="LifeLong Coating">
		</span>
		<div>
			<p class="rx-heading">LifeLong Coating</p><hr>
			<p></p><p>Lifelong coatings is supreme eleven layers of coatings with superhydrophobic on the top&nbsp;</p>
<p></p>
			<p class="red">Add $250.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
<div class="col-sm-6">
	<div class="coatingbox add_coating" coatingid="10" coatingprice="200.0000">
		<span>
			<img src="image/cache/no_image-40x40.png" class="img-responsive" alt="UVProtect Coating">
		</span>
		<div>
			<p class="rx-heading">UVProtect Coating</p><hr>
			<p></p><p>UVpotect coatings best coatings with extra treatment to filter the UV rays&nbsp;</p>
<p></p>
			<p class="red">Add $200.00/Pair</p>
		</div>
	</div>
</div>
<div class="clearfix"></div>
</div>
                                        <div class="clearfix"></div>
                                        <div class="rx-buttons col-sm-12">
                                            <a  data-toggle="tab" href="" onclick="fifthPrevStep();" class="red-btn prev_btn">Previous</a>
											<!--<a  data-toggle="tab" href="" onclick="fifthNextStep();" class="red-btn black-btn pull-right next_btn">Next</a>-->
                                        </div>
                                    </div>
                                </div>
								<!--<div id="step6" class="tab-pane fade">
                                    <h3 class="red"><strong>Order Preview</strong></h3>
                                    <div class="row">
                                        <div id="preview-content"></div>
                                        <div class="clearfix"></div>
                                        <div class="rx-buttons col-sm-12">
											<a  data-toggle="tab" href="" onclick="sixthPrevStep();" class="red-btn prev_btn">Previous</a>
                                        </div>
                                    </div>
                                </div>-->
								
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-sm-5 product-prescription-view">
                    <div class="product_details">
						<h3 class="mar_20">P223GR1 From Fastrack</h3>
						<div class="product_squ_code">
							<p>
								<span class="b_gray">Product Code: </span> 
								P223GR1							</p>
						</div>
								
                        <div class="item-product-prescription">
							<img src="image/cache/catalog/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-228x228.jpg" alt="P223GR1 From Fastrack" class="img-responsive">
                        </div>
						                        <div class="price_details clearfix">
                            <div class="col-sm-4 pr_price">
                                <label class="b_gray"> Price</label>
																		<p id="frame_price">
										$7.50									</p>
									                            </div>
                            <div class="col-sm-3 lans_price">
                                <label class="b_gray">Other Price</label>
                                <p id="lense_price">$0.00</p>
                            </div>
                            <div class="col-sm-3 total_price">
                                <label>Total Price</label>
								<p id="motal_total_price">
								$7.50								</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--Modal End-->
<!-- Prescription JS start -->
<script type="text/javascript"><!--

var is_file = false;

$('input[name^=\'my_frame_size\']').on('click', function() {
	if($(this).prop('checked') == true){
		lblbridge = parseInt($(this).attr('lblbridge'));
		lbltemple = parseInt($(this).attr('lbltemple'));
		lbllenswidth = parseInt($(this).attr('lbllenswidth'));
		lbllensheight = parseInt($(this).attr('lbllensheight'));
		lblframe = parseInt($(this).attr('lblframe'));
		$('#ill-bridge-size').text(lblbridge+' mm');
		$('#ill-temple-size').text(lbltemple+' mm');
		$('#ill-lens-width').text(lbllenswidth+' mm');
		$('#ill-lens-height').text(lbllensheight+' mm');
		$('#ill-frame-width').text(lblframe+' mm');
	}
});

$('#open_prescription_modal_popup').click(function(){
	$('#prescription').modal('show');
});

$('input[name^=\'choose_pd\']').on('click', function() {
	type = $('#pdtype').val();
	if(type){
		if(type == 'single'){
			$('#dual_pd').removeClass('hide');
			$('#dual_pd_th').removeClass('hide');
			$('#single_pd').addClass('hide');
			$('#single_pd_th').addClass('hide');
			$('#pdtype').val('dual');
		}
		if(type == 'dual'){
			$('#dual_pd').addClass('hide');
			$('#dual_pd_th').addClass('hide');
			$('#single_pd').removeClass('hide');
			$('#single_pd_th').removeClass('hide');
			$('#pdtype').val('single');
		}
	} else {
		alert('PD VALUE IS REQUIRED');
	}
});

$('#is_prism').click(function(){
	if($(this).prop("checked") == true){
		$('.prism-dropdown').prop('disabled', false);
		//$('#showprism').removeClass('hide');
		$('#prismvalue').val('yes');
	} else {
		$('.prism-dropdown').prop('disabled', true);
		//$('#showprism').addClass('hide');
		$('#prismvalue').val('no');
	}
});

$('#is_prescription').click(function(){
	if($(this).prop("checked") == true){		
		
		if(confirm("You did not enter your prescription. Your glasses will be no prescription cosmetic eyewear")){
			$('#is_prescription').val('no');
			$("#step1 select").prop('disabled', true);
			$("#is_prism").prop('disabled', true);
			$("#prescription_file").prop('disabled', true);
			$("#is_prism").prop('checked', false);
			$('input[name^=\'choose_pd\']').prop('disabled', true);
			$('input[name^=\'save_to_account\']').prop('disabled', true);
			reset_file();
			reset_form_if_no_prescription();
		}
		else{
			return false;
		}
	} else {		
		$("#step1 select").prop('disabled', false);
		$("#is_prism").prop('disabled', false);
		$("#prescription_file").prop('disabled', false);
		$('input[name^=\'choose_pd\']').prop('disabled', false);
		$('input[name^=\'save_to_account\']').prop('disabled', false);

		$("#is_prism").prop('checked', false);
		$('.prism-dropdown').prop('disabled', true);
		$('#prismvalue').val('no');
		
		$('#is_prescription').val('yes');
		$('#Rxtype').val('');
		$('#Rxtypeid').val('');
		$('.rx_type').removeClass('selected');
		//$('.load_rx_account').removeClass('hide');
	}
});

function reset_form_if_no_prescription(){
	if($('#save_to_account').prop("checked") == true){
		$("#save_to_account").prop('checked',false);
		$('#save_to_account').val(0);			
	}

	//$('.load_rx_account').addClass('hide');
	
	//Dropdown
	$("#od_sph").val('');
	$("#os_sph").val('');
	$("#od_cyl").val('');
	$("#os_cyl").val('');
	$("#od_axis").val('');
	$("#os_axis").val('');
	$("#od_add").val('');
	$("#os_add").val('');
	$("#od_prism").val('');
	$("#od_direction").val('');
	$("#os_prism").val('');
	$("#os_direction").val('');
	$("#pd_single").val('');
	$("#dpd_right").val('');
	$("#dpd_left").val('');
	
	//Inputs
	$("#od_sph_ttl").val('');
	$("#od_cyl_ttl").val('');
	$("#od_add_ttl").val('');
	$("#r_new_sph1").val('');
	$("#l_new_sph1").val('');
	$("#r_new_sph2").val('');
	$("#l_new_sph2").val('');
	$("#r_total_power").val('');
	$("#l_total_power").val('');
	$("#total_power").val('');
	$("#total_power_group").val('');
	
	$('#Lenstype').val('');
	$('#Lenstypeid').val('');
	$('.lens_type').removeClass('hide');
	$('.lens_type_clear').removeClass('hide');
	$('.lens_type').removeClass('selected');
	
	$('.tint_options').addClass('hide');
	$('input[name^=\'choose_tint\']').prop('checked', false);
	$('#my_selected_tint').val('');
	$('#no_tint_required').prop('checked', false);
	$('#no_tint_required').val('0');
	frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
	tint_price = 0.00;
	$.ajax({
		url: 'index.php?source=product/product/addlenseprice',
		type: 'post',
		data: {tint_price: tint_price, frame_price: frame_price},
		dataType: 'json',
		beforeSend: function() {
		},
		complete: function() {
		},
		success: function(json) {
			if(json.type == 'success'){
				$('#lense_price').html('');
				$('#motal_total_price').html('');
				$('#lense_price').html(json.extra.lens_price);
				$('#motal_total_price').html(json.extra.total_price);
			}
		},
		error: function(xhr, ajaxOptions, thrownError) {
			//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
		}
	});
	
	/* if($('#is_prism').prop("checked") == true){
		$('.prism-dropdown').prop('disabled', false);
		//$('#showprism').removeClass('hide');
		$('#prismvalue').val('yes');
	} else {
		$('.prism-dropdown').prop('disabled', true);
		//$('#showprism').addClass('hide');
		$('#prismvalue').val('no');
	} */
}

function prescriptionSelectHandler(){	
	var oFile = $('#prescription_file')[0].files[0];
	$('.prescription_file_err').next('p').remove();
	// check for image type (jpg and pdf are allowed) and size (max 200 kb)
	var rFilter = /^(image\/jpeg|image\/jpg|application\/pdf)$/i;
	if (!rFilter.test(oFile.type)) {
		$('.prescription_file_err').after('<p style="color:red;">Invalid prescription file extension</p>');
		$('.prescription_file_err label span').text('');
		$("#prescription_file").val('');
		is_file = true;
	} else if(oFile.size > 200000){
		$('.prescription_file_err').after('<p style="color:red;">Prescription file size is too large, Please select file upto 200 kb</p>');
		$('.prescription_file_err label span').text('');
		$("#prescription_file").val('');
		is_file = true;
	} else {
		$('.prescription_file_err').next('p').remove();
		is_file = false;
	}
}

function reset_file(){
	$("#prescription_file").val('');
	$('.prescription_file_err label span').text('');
	$('.prescription_file_err').next('p').remove();
	is_file = false;
}

function firstNextStep(){
	$('.prescription_file_err').next('p').remove();
	if(is_file){
		$('.prescription_file_err').after('<p style="color:red;">You are trying to upload a file but either file extension or file size is invalid, so you have to either upload a valid file or just remove file upload <a href="javascript:void(0);" onclick="reset_file();">Remove File?</a></p>');
		$("#prescription_file").focus();
		return;
	}
	
	is_prescription = $('#is_prescription').val();
	
	if(is_prescription == 'no'){
		tpg = calcualte_tpg($('#od_sph').val(), $('#os_sph').val(), $('#od_cyl').val(), $('#os_cyl').val(), $('#od_add').val(), $('#os_add').val());
		reset_form_if_no_prescription();
		$('#is_prescription').prop('checked', true);
		$('#Rxtype').val('SingleVision');
		$('#li_step3 a').trigger('click');
	} else if(is_prescription == 'yes'){
		var err_msg = '';
		
		var is_true = true;
		
		r_new_sph1 = parseFloat(Math.abs($('#r_new_sph1').val()));		
		l_new_sph1 = parseFloat(Math.abs($('#l_new_sph1').val()));		
		r_new_sph2 = parseFloat(Math.abs($('#r_new_sph2').val()));		
		l_new_sph2 = parseFloat(Math.abs($('#l_new_sph2').val()));	

		if(!r_new_sph1 && !l_new_sph1 && !r_new_sph2 && !l_new_sph2){
			if(confirm("You did not enter your prescription. If you have no prescription tick `I have no prescription it’s for cosmetic purpose only` box and then click next")){
				return false;
			}
			else{
				return false;
			}
		} else {
			od_sph = Math.abs($('#od_sph').val());
			os_sph = Math.abs($('#os_sph').val());
			od_cyl = Math.abs($('#od_cyl').val());
			od_cyl_sign = $('#od_cyl').val();
			os_cyl = Math.abs($('#os_cyl').val());
			os_cyl_sign = $('#os_cyl').val();
			od_axis = $('#od_axis').val();
			os_axis = $('#os_axis').val();
			od_add = Math.abs($('#od_add').val());
			os_add = Math.abs($('#os_add').val());
			pdtype = $('#pdtype').val();
			
			<!-- CYL Validation -->
			if(od_cyl && os_cyl){
				if(Math.sign(od_cyl_sign) != Math.sign(os_cyl_sign)){
					err_msg += '<i class="fa fa-exclamation-circle"></i> Both CYL values must have same sign (Either + Or -)</br>';
					$('#od_cyl').focus();
					$('#os_cyl').focus();
					is_true = false;
				}
			}
			
			<!-- CYL AND AXIS Validation -->
			if(od_cyl && !od_axis){
				err_msg += '<i class="fa fa-exclamation-circle"></i> AXIS Right (OD) is required</br>';
				$('#od_axis').focus();
				is_true = false;
			}
			if(!od_cyl && od_axis){
				err_msg += '<i class="fa fa-exclamation-circle"></i> CYL Right (OD) is required</br>';
				$('#od_cyl').focus();
				is_true = false;
			}
			if(os_cyl && !os_axis){
				err_msg += '<i class="fa fa-exclamation-circle"></i> AXIS Left (OS) is required</br>';
				$('#os_axis').focus();
				is_true = false;
			}
			if(!os_cyl && os_axis){
				err_msg += '<i class="fa fa-exclamation-circle"></i> CYL Left (OS) is required</br>';
				$('#os_cyl').focus();
				is_true = false;
			}
			
			<!-- ADD Validation -->
			if(od_add && !os_add){
				err_msg += '<i class="fa fa-exclamation-circle"></i> ADD Left (OS) is required</br>';
				$('#os_add').focus();
				is_true = false;
			}
			if(!od_add && os_add){
				err_msg += '<i class="fa fa-exclamation-circle"></i> ADD Right (OD) is required</br>';
				$('#od_add').focus();
				is_true = false;
			}
			
			<!-- IPD Validation -->
			if(pdtype){
				if(pdtype == 'single'){
					pd_single = $('#pd_single').val();
					if(!pd_single){
						err_msg += '<i class="fa fa-exclamation-circle"></i> IPD is required</br>';
						$('#pd_single').focus();
						is_true = false;
					}
				} else if(pdtype == 'dual'){
					dpd_right = $('#dpd_right').val();
					dpd_left = $('#dpd_left').val();
					if(!dpd_right){
						err_msg += '<i class="fa fa-exclamation-circle"></i> RIGHT IPD is required</br>';
						$('#dpd_right').focus();
						is_true = false;
					}
					if(!dpd_left){
						err_msg += '<i class="fa fa-exclamation-circle"></i> LEFT IPD is required</br>';
						$('#dpd_left').focus();
						is_true = false;
					}
				}
			}
			
			<!-- PRISM Validation -->
			if($('#is_prism').prop("checked") == true){
				od_prism = parseFloat($('#od_prism').val());
				od_direction = $('#od_direction').val();
				os_prism = parseFloat($('#os_prism').val());
				os_direction = $('#os_direction').val();
				
				if(!od_prism && !os_prism){
					err_msg += '<i class="fa fa-exclamation-circle"></i> Please select either Prism Right (OD) and Base Direction Right (OD) or Prism Left (OS) and Base Direction Left (OS) or both</br>';
					$('#od_prism').focus();
					is_true = false;
				} else {
					if(od_prism && !od_direction){
						err_msg += '<i class="fa fa-exclamation-circle"></i> Base Direction Right (OD) is required</br>';
						$('#od_direction').focus();
						is_true = false;
					}
					if(!od_prism && od_direction){
						err_msg += '<i class="fa fa-exclamation-circle"></i> Prism Right (OD) is required</br>';
						$('#od_prism').focus();
						is_true = false;
					}
					if(os_prism && !os_direction){
						err_msg += '<i class="fa fa-exclamation-circle"></i> Base Direction Left (OS) is required</br>';
						$('#os_direction').focus();
						is_true = false;
					}
					if(!os_prism && os_direction){
						err_msg += '<i class="fa fa-exclamation-circle"></i> Prism Left (OS) is required</br>';
						$('#os_prism').focus();
						is_true = false;
					}
				}
			}
		}
		
		
		if(is_true){
			
			error('');
			
			$('#od_add_ttl').val(parseFloat(od_add) + parseFloat(os_add));
			
			tpg = calcualte_tpg($('#od_sph').val(), $('#os_sph').val(), $('#od_cyl').val(), $('#os_cyl').val(), $('#od_add').val(), $('#os_add').val());
			
			if((parseFloat(od_add) + parseFloat(os_add)) > 0 ){
				
				$('#li_step2 a').trigger('click');
				
			} else {
				
				$('#Rxtype').val('SingleVision');
				$('#li_step3 a').trigger('click');
				
			}
		}
		error(err_msg);
	} else {
		return false;
	}
}

$('#od_sph').change(function(){	
	od_sph_change($(this).val(), $('#od_cyl').val());
});

function od_sph_change(od_sph, od_cyl){
	rod_sph_no_sign = Math.abs(od_sph);
	rod_sph = parseFloat(od_sph);
	if(rod_sph_no_sign){
		rod_sph = rod_sph;
	} else {
		rod_sph = 0.00;
	}
	rod_cyl_no_sign = Math.abs(od_cyl);
	rod_cyl = parseFloat(od_cyl);
	if(rod_cyl_no_sign){
		rod_cyl = rod_cyl;
	} else {
		rod_cyl = 0.00;
	}
	if(parseFloat(rod_cyl) > 0){
		$('#r_new_sph1').val(parseFloat(rod_sph) + parseFloat(rod_cyl));
		$('#r_new_sph2').val('0.00');
	} else if(parseFloat(rod_cyl) <= 0){
		$('#r_new_sph1').val('0.00');
		$('#r_new_sph2').val(parseFloat(rod_sph));
	} else {
		$('#r_new_sph1').val('0.00');
		$('#r_new_sph2').val('0.00');
	}
}

$('#od_cyl').change(function(){
	if(!Math.abs($(this).val())){
		$('#od_axis').val('');
	}
	od_cyl_change($(this).val(), $('#od_sph').val());
});

function od_cyl_change(od_cyl, od_sph){
	rod_sph_no_sign = Math.abs(od_sph);
	rod_sph = parseFloat(od_sph);
	if(rod_sph_no_sign){
		rod_sph = rod_sph;
	} else {
		rod_sph = 0.00;
	}
	rod_cyl_no_sign = Math.abs(od_cyl);
	rod_cyl = parseFloat(od_cyl);
	if(rod_cyl_no_sign){
		rod_cyl = rod_cyl;
	} else {
		rod_cyl = 0.00;
	}
	if(parseFloat(rod_cyl) > 0){
		$('#r_new_sph1').val(parseFloat(rod_sph) + parseFloat(rod_cyl));
		$('#r_new_sph2').val('0.00');
	} else if(parseFloat(rod_cyl) <= 0){
		$('#r_new_sph1').val('0.00');
		$('#r_new_sph2').val(parseFloat(rod_sph));
	} else {
		$('#r_new_sph1').val('0.00');
		$('#r_new_sph2').val('0.00');
	}
}

$('#os_sph').change(function(){
	os_sph_change($(this).val(), $('#os_cyl').val());
});

function os_sph_change(os_sph, os_cyl){
	los_sph_no_sign = Math.abs(os_sph);
	los_sph = parseFloat(os_sph);
	if(los_sph_no_sign){
		los_sph = los_sph;
	} else {
		los_sph = 0.00;
	}
	los_cyl_no_sign = Math.abs(os_cyl);
	los_cyl = parseFloat(os_cyl);
	if(los_cyl_no_sign){
		los_cyl = los_cyl;
	} else {
		los_cyl = 0.00;
	}
	if(parseFloat(los_cyl) > 0){
		$('#l_new_sph1').val(parseFloat(los_sph) + parseFloat(los_cyl));
		$('#l_new_sph2').val('0.00');
	} else if(parseFloat(los_cyl) <= 0){
		$('#l_new_sph1').val('0.00');
		$('#l_new_sph2').val(parseFloat(los_sph));
	} else {
		$('#l_new_sph1').val('0.00');
		$('#l_new_sph2').val('0.00');
	}
}

$('#os_cyl').change(function(){
	if(!Math.abs($(this).val())){
		$('#os_axis').val('');
	}
	os_cyl_change($(this).val(), $('#os_sph').val());
});

function os_cyl_change(os_cyl, os_sph){
	los_sph_no_sign = Math.abs(os_sph);
	los_sph = parseFloat(os_sph);
	if(los_sph_no_sign){
		los_sph = los_sph;
	} else {
		los_sph = 0.00;
	}
	los_cyl_no_sign = Math.abs(os_cyl);
	los_cyl = parseFloat(os_cyl);
	if(los_cyl_no_sign){
		los_cyl = los_cyl;
	} else {
		los_cyl = 0.00;
	}
	if(parseFloat(los_cyl) > 0){
		$('#l_new_sph1').val(parseFloat(los_sph) + parseFloat(los_cyl));
		$('#l_new_sph2').val('0.00');
	} else if(parseFloat(los_cyl) <= 0){
		$('#l_new_sph1').val('0.00');
		$('#l_new_sph2').val(parseFloat(los_sph));
	} else {
		$('#l_new_sph1').val('0.00');
		$('#l_new_sph2').val('0.00');
	}
}

$('#od_axis').change(function(){
	od_axis = parseInt($(this).val());
	if(!od_axis){
		$('#od_cyl').val('');
		od_cyl_change($('#od_cyl').val(), $('#od_sph').val());
	}
});

$('#os_axis').change(function(){
	os_axis = parseInt($(this).val());
	if(!os_axis){
		$('#os_cyl').val('');
		os_cyl_change($('#os_cyl').val(), $('#os_sph').val());
	}
});

function calcualte_tpg(od_sph, os_sph, od_cyl, os_cyl, od_add, os_add){
	r_new_sph1_no_sign = Math.abs($('#r_new_sph1').val());
	r_new_sph1 = $('#r_new_sph1').val();
	if(r_new_sph1_no_sign){
		r_new_sph1 = parseFloat(r_new_sph1);
	} else {
		r_new_sph1 = 0.00;
	}
	l_new_sph1_no_sign = Math.abs($('#l_new_sph1').val());
	l_new_sph1 = $('#l_new_sph1').val();
	if(l_new_sph1_no_sign){
		l_new_sph1 = parseFloat(l_new_sph1);
	} else {
		l_new_sph1 = 0.00;
	}
	r_new_sph2_no_sign = Math.abs($('#r_new_sph2').val());
	r_new_sph2 = $('#r_new_sph2').val();
	if(r_new_sph2_no_sign){
		r_new_sph2 = parseFloat(r_new_sph2);
	} else {
		r_new_sph2 = 0.00;
	}
	l_new_sph2_no_sign = Math.abs($('#l_new_sph2').val());
	l_new_sph2 = $('#l_new_sph2').val();
	if(l_new_sph2_no_sign){
		l_new_sph2 = parseFloat(l_new_sph2);
	} else {
		l_new_sph2 = 0.00;
	}
	
	od_sph_no_sign = Math.abs(od_sph);
	if(od_sph_no_sign){
		od_sph = parseFloat(od_sph);
	} else {
		od_sph = 0.00;
	}
	os_sph_no_sign = Math.abs(os_sph);
	if(os_sph_no_sign){
		os_sph = parseFloat(os_sph);
	} else {
		os_sph = 0.00;
	}
	
	od_cyl_no_sign = Math.abs(od_cyl);
	os_cyl_no_sign = Math.abs(os_cyl);
	
	od_add_no_sign = Math.abs(od_add);
	if(od_add_no_sign){
		od_add = parseFloat(od_add);
	} else {
		od_add = 0.00;
	}
	os_add_no_sign = Math.abs(os_add);
	if(os_add_no_sign){
		os_add = parseFloat(os_add);
	} else {
		os_add = 0.00;
	}
	
	if(parseFloat(od_sph) < 0){
		r_total_power = parseFloat(r_new_sph1) + parseFloat(r_new_sph2);
		r_total_power = parseFloat(r_total_power);
	} else {
		r_total_power = parseFloat(r_new_sph1) + parseFloat(r_new_sph2) + parseFloat(od_add);
		r_total_power = parseFloat(r_total_power);
	}
	
	if(parseFloat(os_sph) < 0){
		l_total_power = parseFloat(l_new_sph1) + parseFloat(l_new_sph2);
		l_total_power = parseFloat(l_total_power);
	} else {
		l_total_power = parseFloat(l_new_sph1) + parseFloat(l_new_sph2) + parseFloat(os_add);
		l_total_power = parseFloat(l_total_power);
	}
	
	if(r_total_power <= 0 && l_total_power <= 0){
		total_power = Math.min(r_total_power, l_total_power);
		total_power = parseFloat(total_power);
	} else {
		total_power = Math.max(r_total_power, l_total_power);
		total_power = parseFloat(total_power);
	}
	
	if( (total_power >= 0.00 && total_power <= +3.00) || (total_power <= -0.25 && total_power >= -4.00) ){
		tpg = 1;
	} else if( (total_power >= +3.25 && total_power <= +4.00) || (total_power <= -4.25 && total_power >= -6.00) ){
		tpg = 2;
	} else if ( (total_power >= +4.25 && total_power <= +6.00) || (total_power <= -6.25 && total_power >= -8.00) ){
		tpg = 3;
	} else if( total_power > +6.00 || total_power < -8.00) {
		tpg = 4;
	}
	
	$('#r_total_power').val(r_total_power);
	$('#l_total_power').val(l_total_power);
	$('#total_power').val(total_power);
	$('#total_power_group').val(tpg);
	
	return tpg;
}

function secoundNextStep(){
	err_msg = '';
	Rxtype = $('#Rxtype').val();
	Rxrefresh = $('#Rxrefresh').val();
	if(Rxtype){
		error('');
		if(parseInt(Rxrefresh) == 1){
			$('#step3').addClass('active in');
			$('#li_step3').addClass('active');
			$('#step2').removeClass('active in');
			$('#li_step2').removeClass('active');
		} else {
			$('#Rxrefresh').val(1);
			$('#my_lense_id').val('');
			$('#my_lense_price').val('');
			$('input[name^=\'choose_tint\']').prop('checked', false);
			$('#no_tint_required').prop('checked', false);
			$('#no_tint_required').val(0);
			$('#my_selected_tint').val('');
			$('.tint_options').addClass('hide');
			if(rxlabel == 'Reading'){
				$('.lens_type').removeClass('selected');
				$('.lens_type').addClass('hide');
				$('.lens_type_clear').removeClass('hide');
				$('input[name^=\'choose_tint\']').prop('checked', false);
				$('#no_tint_required').prop('checked', false);
				$('#no_tint_required').val('0');
				$('#my_selected_tint').val('');
				$('.tint_options').addClass('hide');
				frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
				tint_price = 0.00;
				$.ajax({
					url: '',
					type: 'post',
					data: {tint_price: tint_price, frame_price: frame_price},
					dataType: 'json',
					beforeSend: function() {
					},
					complete: function() {
					},
					success: function(json) {
					},
					error: function(xhr, ajaxOptions, thrownError) {
						//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
					}
				});
			} else {
				$('#Lenstype').val('');
				$('#Lenstypeid').val('');
				$('.lens_type').removeClass('hide');
				$('.lens_type_clear').removeClass('hide');
				$('.lens_type').removeClass('selected');
			}
			$('#li_step3 a').trigger('click');
		}
	} else {
		err_msg += '<i class="fa fa-exclamation-circle"></i> Rx Type is required</br>';
		error(err_msg);
		return false;
	}
}

$('.rx_type').click(function(){
	error('');
	
		var rx_type_val = 'All';
		
	rxid = $(this).attr('rxid');
	rxlabel = $(this).attr('rxlabel');
	rxclicked = $('#Rxtypeclicked').val();
	Rxtype = $('#Rxtype').val();
	
	if(rx_type_val == 'Single Vision' && (rxlabel == 'Bifocal' || rxlabel == 'Progressive')){
		alert('The FRAME that you chose is not compatible for Bi-Focal/Progressive Prescriptions (Rx)');
		return false;
	} else {
		
		if(Rxtype && (rxclicked == rxlabel)){
			$('#Rxrefresh').val(1);
		} else {
			$('#Rxrefresh').val(0);
			$('#Rxtypeclicked').val(rxlabel);
			$('#Rxtype').val(rxlabel);
			$('#Rxtypeid').val(rxid);
			
			frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
			tint_price = 0.00;
			$.ajax({
				url: '',
				type: 'post',
				data: {tint_price: tint_price, frame_price: frame_price},
				dataType: 'json',
				beforeSend: function() {
				},
				complete: function() {
				},
				success: function(json) {
					if(json.type == 'success'){
						$('#lense_price').html('');
						$('#motal_total_price').html('');
						$('#lense_price').html(json.extra.lens_price);
						$('#motal_total_price').html(json.extra.total_price);
					}
				},
				error: function(xhr, ajaxOptions, thrownError) {
					//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
			
		}
		
		$('.rx_type').removeClass('selected');
		$(this).addClass('selected');
		
	}
});


<!--/ Get all lenses /-->
$('.my_tint_type').click(function(){
	if($(this).prop("checked") == true){
		tintlabel = $(this).attr('tintlabel');
		type = $(this).val();
		$('.light_'+tintlabel).addClass('hide');
		$('.medium_'+tintlabel).addClass('hide');
		$('.dark_'+tintlabel).addClass('hide');
		$('.'+type+'_'+tintlabel).removeClass('hide');
	}
});

$('#no_tint_required').click(function(){

	if($(this).prop("checked") == true){
		
		if(confirm("You have selected a `Tint not required` option.")){
			$('input[name^=\'choose_tint\']').prop('checked', false);
			$('input[name^=\'type_\']').prop('checked', false);
			$('#no_tint_required').val('1');
			$('#my_selected_tint').val('');
			
			
			$('.add_lens').removeClass('selected');
			$('#my_lense_id').val('');
			$('#my_lense_price').val('');
			$('#Mylensclicked').val('');
			$('#Mylensrefresh').val('');
			
			$('#my_coating_id').val('');
			$('#my_coating_price').val('');
			
			
			frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
			tint_price = 0.00;
			$.ajax({
				url: '',
				type: 'post',
				data: {tint_price: tint_price, frame_price: frame_price},
				dataType: 'json',
				beforeSend: function() {
				},
				complete: function() {
				},
				success: function(json) {
					if(json.type == 'success'){
						$('#lense_price').html('');
						$('#motal_total_price').html('');
						$('#lense_price').html(json.extra.lens_price);
						$('#motal_total_price').html(json.extra.total_price);
					}
				},
				error: function(xhr, ajaxOptions, thrownError) {
					//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
		}
		else{
			return false;
		}
	} else {
		$('#no_tint_required').val('0');
	}
});

$('input[name^=\'choose_tint\']').on('click', function() {
	if($(this).prop("checked") == true){		
		$('#no_tint_required').prop('checked', false);
		$('#no_tint_required').val('0');
		
		$('.add_lens').removeClass('selected');
		$('#my_lense_id').val('');
		$('#my_lense_price').val('');
		$('#Mylensclicked').val('');
		$('#Mylensrefresh').val('');
		
		$('#my_coating_id').val('');
		$('#my_coating_price').val('');
		
		tint_id = $(this).val();
		tint_price = $(this).attr('price');
		tint_type = $(this).attr('tinttype');
		
		$('input[name^=\'type_\']').prop('checked', false);
		$('.'+tint_type).prop('checked', true);
		
		frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
		
		$.ajax({
			url: '',
			type: 'post',
			data: {tint_price: tint_price, frame_price: frame_price},
			dataType: 'json',
			beforeSend: function() {
			},
			complete: function() {
			},
			success: function(json) {
				if(json.type == 'success'){
					$('#lense_price').html('');
					$('#motal_total_price').html('');
					$('#lense_price').html(json.extra.lens_price);
					$('#motal_total_price').html(json.extra.total_price);
					$('#my_selected_tint').val(tint_id);
				}
			},
			error: function(xhr, ajaxOptions, thrownError) {
				//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
			}
		});
	} else {
		$('#my_selected_tint').val('');
	}
});

function thirdNextStep(){
	err_msg = '';
	
	Lenstype = $('#Lenstype').val();
	
	Lensrefresh = $('#Lensrefresh').val();
	
	if(Lenstype){
		
		error('');
		
		if(parseInt(Lensrefresh) == 1){
			$('#step4').addClass('active in');
			$('#li_step4').addClass('active');
			$('#step3').removeClass('active in');
			$('#li_step3').removeClass('active');
		} else {
			$('#my_lense_id').val('');
			$('#my_lense_price').val('');
			
			$('#Lensrefresh').val(1);
			$('#my_lense_id').val('');
			$('#my_lense_price').val('');
			
			var tpg_value = $('#total_power_group').val();
			var rxtype_value = $('#Rxtype').val();
			var lenstype_value = $('#Lenstype').val();
			
			if(lenslabel == 'Sunglass'){				
				no_tint_required = $('#no_tint_required').val();				
				if(no_tint_required == 1){
					$.ajax({
						url: '',
						type: 'get',
						data: {filter_tpg: tpg_value, filter_rx_type: rxtype_value, filter_lens_type: lenstype_value},
						dataType: 'json',
						beforeSend: function() {
						},
						complete: function() {
							$('#li_step4 a').trigger('click');
						},
						success: function(json) {
						},
						error: function(xhr, ajaxOptions, thrownError) {
							//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
						}
					});
				} else {
					tint_id = $('#my_selected_tint').val();
					if(!tint_id){
						err_msg += '<i class="fa fa-exclamation-circle"></i> Either choose a tint or check `Tint not required`</br>';
						error(err_msg);
					} else {
						$.ajax({
							url: 'index.php?source=product/lens/getlist',
							type: 'get',
							data: {filter_tpg: tpg_value, filter_rx_type: rxtype_value, filter_lens_type: lenstype_value},
							dataType: 'json',
							beforeSend: function() {
							},
							complete: function() {
								$('#li_step4 a').trigger('click');
							},
							success: function(json) {
							},
							error: function(xhr, ajaxOptions, thrownError) {
								//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
							}
						});
					}
				}
			} else {
				$.ajax({
					url: 'index.php?source=product/lens/getlist',
					type: 'get',
					data: {filter_tpg: tpg_value, filter_rx_type: rxtype_value, filter_lens_type: lenstype_value},
					dataType: 'json',
					beforeSend: function() {
					},
					complete: function() {
						$('#li_step4 a').trigger('click');
					},
					success: function(json) {
					},
					error: function(xhr, ajaxOptions, thrownError) {
						//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
					}
				});
			}
		}
	} else {
		err_msg += '<i class="fa fa-exclamation-circle"></i> Lens Type is required</br>';
		error(err_msg);
		return false;
	}
}

<!--/ Get all lenses /-->
$('.lens_type').click(function(){
	
	lensid = $(this).attr('lensid');
	lenslabel = $(this).attr('lenslabel');
	Lenstypeclicked = $('#Lenstypeclicked').val();
	Lenstype = $('#Lenstype').val();
	
	if(Lenstype && (Lenstypeclicked == lenslabel)){
		$('#Lensrefresh').val(1);
	} else {
		$('#Lensrefresh').val(0);
		$('#Lenstypeclicked').val(lenslabel);
		$('#Lenstype').val(lenslabel);
		$('#Lenstypeid').val(lensid);
		if(lenslabel == 'Sunglass'){
			$('.tint_options').removeClass('hide');
		} else {
			$('.tint_options').addClass('hide');
			
			$('input[name^=\'choose_tint\']').prop('checked', false);
			$('input[name^=\'type_\']').prop('checked', false);
			$('#no_tint_required').prop('checked', false);
			$('#no_tint_required').val(0);
			$('#my_selected_tint').val('');
			
			frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
			tint_price = 0.00;
			$.ajax({
				url: '',
				type: 'post',
				data: {tint_price: tint_price, frame_price: frame_price},
				dataType: 'json',
				beforeSend: function() {
				},
				complete: function() {
				},
				success: function(json) {
				},
				error: function(xhr, ajaxOptions, thrownError) {
					//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
		}
	}
	$('.lens_type').removeClass('selected');
	$(this).addClass('selected');
});

<!--/ Choose a lens from list /-->
$('#pick_lens_parent').on('click','.add_lens',function(){
	error('');
	lensid = $(this).attr('lensid');
	lensprice = $(this).attr('lensprice');
	tintready = $(this).attr('tintready');
	lenstype = $('#Lenstype').val();
	no_tint_required = $('#no_tint_required').val();
	
	Mylenseid = $('#my_lense_id').val();
	Mylensclicked = $('#Mylensclicked').val();
	
	if(lenstype == 'Sunglass' && tintready == '1' && no_tint_required != '1'){
		alert('You have selected a Tint option on a lens that’s already tinted/polarized. Hence, please change your lens option or go to the previous step and tick the check box ‘Tint not required’');
		return false;
	} else {
		
		if(Mylenseid && (Mylensclicked == lensid)){
			$('#Mylensrefresh').val(1);
		} else {
			$('#Mylensrefresh').val(0);
			$('#my_lense_id').val(lensid);
			$('#my_lense_price').val(lensprice);
		}
		
		$('.add_lens').removeClass('selected');
		$(this).addClass('selected');
		
		frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
		tint_price = $("input[name='choose_tint']:checked").attr('price');
		$.ajax({
			url: '',
			type: 'post',
			data: {tint_price: tint_price, lensprice: lensprice, frame_price: frame_price},
			dataType: 'json',
			beforeSend: function() {
			},
			complete: function() {
			},
			success: function(json) {
			},
			error: function(xhr, ajaxOptions, thrownError) {
				//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
			}
		});		
	}	
});

<!--/ Get all lens coatings from list /-->
function fourthNextStep(){
	err_msg = '';
	lensid = $('#my_lense_id').val();
	Mylensrefresh = $('#Mylensrefresh').val();
	if(lensid){
		error('');
		
		if(parseInt(Mylensrefresh) == 1){
			$('#step5').addClass('active in');
			$('#li_step5').addClass('active');
			$('#step4').removeClass('active in');
			$('#li_step4').removeClass('active');
		} else {
			$('#Mylensrefresh').val(1);
			$('#my_coating_id').val('');
			$('#my_coating_price').val('');
			
			$.ajax({
				url: '',
				type: 'get',
				data: {action: 'ajax', lensid: lensid},
				dataType: 'json',
				beforeSend: function() {
				},
				complete: function() {
					$('#li_step5 a').trigger('click');
				},
				success: function(json) {
					coatingprice = 0;
					frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
					tint_price = $("input[name='choose_tint']:checked").attr('price');
					lensprice = $('#my_lense_price').val();
					
					$.ajax({
						url: '',
						type: 'post',
						data: {tint_price: tint_price, lensprice: lensprice, frame_price: frame_price, coating_price: coatingprice},
						dataType: 'json',
						beforeSend: function() {
						},
						complete: function() {
						},
						success: function(json) {
						},
						error: function(xhr, ajaxOptions, thrownError) {
							//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
						}
					});
				},
				error: function(xhr, ajaxOptions, thrownError) {
					//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
		}
		
	} else {
		err_msg += '<i class="fa fa-exclamation-circle"></i> Please select a lens from the given list</br>';
		error(err_msg);
		return false;
	}
}

<!--/ Choose a lens from list /-->
$('#pick_coating_parent').on('click','.add_coating',function(){
	error('');
	coatingid = $(this).attr('coatingid');
	coatingprice = $(this).attr('coatingprice');
	$('#my_coating_id').val(coatingid);
	$('#my_coating_price').val(coatingprice);
	frame_price = $('#frame_price').text().replace(/[^\d.]/g, '');
	tint_price = $("input[name='choose_tint']:checked").attr('price');
	lensprice = $('#my_lense_price').val();
	$('.add_coating').removeClass('selected');
	$(this).addClass('selected');
	$.ajax({
		url: '',
		type: 'post',
		data: {tint_price: tint_price, lensprice: lensprice, frame_price: frame_price, coating_price: coatingprice},
		dataType: 'json',
		beforeSend: function() {
		},
		complete: function() {
		},
		success: function(json) {
		},
		error: function(xhr, ajaxOptions, thrownError) {
			//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
		}
	});
});

function secondPrevStep(){
	error('');
	
	$('#step1').addClass('active in');
	$('#li_step1').addClass('active');
	$('#step2').removeClass('active in');
	$('#li_step2').removeClass('active');
}

function thirdPrevStep(){
	error('');
	od_add = Math.abs($('#od_add').val());
	os_add = Math.abs($('#os_add').val());
	od_add_ttl = parseFloat(od_add) + parseFloat(os_add);
	
	is_prescription = $('#is_prescription').val();
	if(od_add_ttl > 0 && is_prescription == 'yes'){		
		$('#step2').addClass('active in');
		$('#li_step2').addClass('active');
		$('#step3').removeClass('active in');
		$('#li_step3').removeClass('active');
	} else {
		$('#step1').addClass('active in');
		$('#li_step1').addClass('active');
		$('#step3').removeClass('active in');
		$('#li_step3').removeClass('active');
	}
}

function fourthPrevStep(){
	error('');
	
	$('#step3').addClass('active in');
	$('#li_step3').addClass('active');
	$('#step4').removeClass('active in');
	$('#li_step4').removeClass('active');
}

function fifthPrevStep(){
	error('');
	
	$('#step4').addClass('active in');
	$('#li_step4').addClass('active');
	$('#step5').removeClass('active in');
	$('#li_step5').removeClass('active');
}

function sixthPrevStep(){
	error('');
	$('#preview-content').html();
	$('#step5').addClass('active in');
	$('#li_step5').addClass('active');
	$('#step6').removeClass('active in');
	$('#li_step6').removeClass('active');
}

function load_prescription(customer_id){
	err_msg = '';
	if(customer_id){
		$.ajax({
			url: '',
			type: 'post',
			data: {customer_id: customer_id},
			dataType: 'json',
			beforeSend: function() {
				$('.red-btn.load_rx_account').addClass('load_rx_account_btn');
			},
			complete: function() {
				$('.red-btn.load_rx_account').removeClass('load_rx_account_btn');
			},
			success: function(json) {
				if(json.type == 'success'){
					
					$("#prescription_file").prop('disabled', false);
					reset_file();
					
					$("select").prop('disabled', false);
					$('input[name^=\'choose_pd\']').prop('disabled', false);
					$('input[name^=\'save_to_account\']').prop('disabled', false);
					
					if($('#is_prescription').prop("checked") == true){
						$('#is_prescription').prop("checked", false);
						$('#is_prescription').val('yes');
						$('#Rxtype').val('');
						$('#Rxtypeid').val('');
						$('.rx_type').removeClass('selected');
					}
					
					$("#is_prism").prop('disabled', false);
					$("#is_prism").prop('checked', false);
					$('.prism-dropdown').prop('disabled', true);
					$('#prismvalue').val('no');
					
					$("#od_sph").val(json.extra.sph_rod);
					$("#os_sph").val(json.extra.sph_los);
					$("#od_cyl").val(json.extra.cyl_rod);
					$("#os_cyl").val(json.extra.cyl_los);
					$("#od_axis").val(json.extra.axis_rod);
					$("#os_axis").val(json.extra.axis_los);
					$("#od_add").val(json.extra.add_rod);
					$("#os_add").val(json.extra.add_los);
					$("#pd_single").val(json.extra.single_pd);
					$("#dpd_right").val(json.extra.dual_pd_right);
					$("#dpd_left").val(json.extra.dual_pd_left);
					
					if((json.extra.prism_rod != null && json.extra.direction_rod != null) || (json.extra.prism_los != null && json.extra.direction_los != null)){
						$('#is_prism').prop('checked', true);
						//$('#showprism').removeClass('hide');
						$('.prism-dropdown').prop('disabled', false);
						$('#prismvalue').val('yes');
					}
					
					if(json.extra.prism_rod != null && json.extra.direction_rod != null){
						$("#od_prism").val(json.extra.prism_rod);
						$("#od_direction").val(json.extra.direction_rod);
					}
					
					if(json.extra.prism_los != null && json.extra.direction_los != null){
						$("#os_prism").val(json.extra.prism_los);
						$("#os_direction").val(json.extra.direction_los);
					}
					
					od_sph_change(json.extra.sph_rod, json.extra.cyl_rod);
					od_cyl_change(json.extra.cyl_rod, json.extra.sph_rod);
					os_sph_change(json.extra.sph_los, json.extra.cyl_los);
					os_cyl_change(json.extra.cyl_los, json.extra.sph_los);
					
				} else if(json.type == 'error'){
					alert(json.extra.error);
					err_msg += '<i class="fa fa-exclamation-circle"></i>' + json.extra.error + '</br>';
					error(err_msg);
				} else {
					err_msg += '<i class="fa fa-exclamation-circle"></i> Please try again </br>';
					error(err_msg);
				}
			},
			error: function(xhr, ajaxOptions, thrownError) {
				//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
			}
		});
	}
	return false;
}

function fifthNextStep(){
	err_msg = '';
	coating_id = $('#my_coating_id').val();
	if(coating_id){
		$.ajax({
			url: '',
			type: 'post',
			data: $('#add_prescription_form input[type=\'text\'], #add_prescription_form input[type=\'hidden\'], #add_prescription_form input[type=\'radio\']:checked, #add_prescription_form input[type=\'checkbox\']:checked, #add_prescription_form select, #add_prescription_form textarea'),
			dataType: 'json',
			beforeSend: function() {
			},
			complete: function() {
			},
			success: function(json) {
				$('#li_step6 a').trigger('click');
			},
			error: function(xhr, ajaxOptions, thrownError) {
				//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
			}
		});		
	} else {
		err_msg += '<i class="fa fa-exclamation-circle"></i>Please choose coating option</br>';
		error(err_msg);
	}
}

$('.custom_close').click(function(){
	window.location.reload();
});

function reset_fields(){
	
	//File
	reset_file();
	
	//Dropdown
	$("#od_sph").val('');
	$("#os_sph").val('');
	$("#od_cyl").val('');
	$("#os_cyl").val('');
	$("#od_axis").val('');
	$("#os_axis").val('');
	$("#od_add").val('');
	$("#os_add").val('');
	$("#od_prism").val('');
	$("#od_direction").val('');
	$("#os_prism").val('');
	$("#os_direction").val('');
	$("#pd_single").val('');
	$("#dpd_right").val('');
	$("#dpd_left").val('');
	
	//Inputs
	$("#od_sph_ttl").val('');
	$("#od_cyl_ttl").val('');
	$("#od_add_ttl").val('');
	$("#r_new_sph1").val('');
	$("#l_new_sph1").val('');
	$("#r_new_sph2").val('');
	$("#l_new_sph2").val('');
	$("#r_total_power").val('');
	$("#l_total_power").val('');
	$("#total_power").val('');
	$("#total_power_group").val('');
}

$('.prism-dropdown').prop('disabled', true);

function error(message){
	$('.alert-success, .alert-danger').remove();
	if(message.length > 0){
		$('#showerror').after('<div class="col-sm-12 text-center" id="error-id-box"><div class="alert alert-danger">' + message + '</div></div>');
		$('#error-id-box').focus();
	} else {
		$('#showerror').after('');
	}
}

function contact_lens_error(message){
	$('.alert-success, .alert-danger').remove();
	if(message.length > 0){
		$('#showcontactlenserror').after('<div class="col-sm-12 text-center"><div class="alert alert-danger">' + message + '</div></div>');
	} else {
		$('#showcontactlenserror').after('');
	}
}

$('[data-toggle="tooltip"]').tooltip();
//--></script>
<!-- Prescription JS end -->

        
        <!-- << Parent-child Options -->
				
				        
                
        <script type="text/javascript"><!--
        
					var pcop_data = {"227":[]};
					
					var pcop_theme_name = 'barakat';
					var pcop_cache = { 'option_elements':{}, 'option_containers':{} };
					
          var pcop_option_prefix = "option";
					if ($('#mijoshop').length && $('[name^="option_oc["]').length) { // 
						pcop_option_prefix = "option_oc";
					} else if ( pcop_options_container().find('[id^="input-option"][name^="option_oc["]').length ) { // joocart
            pcop_option_prefix = "option_oc";
          }
					
					// option[XXX]
          function pcop_get_product_option_id_from_name(name) {
            
            var copu_product_option = 'copu_product_id';
						var prefix_quantity_per_option = 'quantity_per_option';
            if ( name.substr(0, copu_product_option.length) == copu_product_option ) {
              var str = name.substr( copu_product_option.length + 1 );
						} else if ( name.substr(0, prefix_quantity_per_option.length) == prefix_quantity_per_option ) {
              var str = name.substr( prefix_quantity_per_option.length + 1 );	
            } else {
              var str = name.substr( pcop_option_prefix.length + 1 );
            }
            var bracket_pos = str.indexOf(']');
            if (bracket_pos != -1) {
              return str.substr(0,bracket_pos);
            }
          }
					
					function pcop_getStructOfOptionElements(product_option_id) {
						
						if ( typeof(pcop_cache['option_elements'][product_option_id]) == 'undefined' ) {
							
							var structOfElements = {};
							var $container = pcop_options_container();
							var basic_name = pcop_option_prefix+'['+product_option_id+']';
							
							var $elements = $container.find('[name="'+basic_name+'"]');
							if ( !$elements.length ) {
								$elements = $container.find('[name="'+basic_name+'[]"]'); // checkboxes
							}
							if ( $elements.length ) {
								if ( $elements.is(':radio, :checkbox') ) {
									structOfElements['filter'] = ':checked';
								}
								structOfElements['elements'] = $elements.filter('select, input');
							}
							
							pcop_cache['option_elements'][product_option_id] = structOfElements;
						}
						return pcop_cache['option_elements'][product_option_id];
						
					}
					
					function pcop_getSelectedProductOptionValues(product_option_id) {
						
						var structOfElements = pcop_getStructOfOptionElements(product_option_id);
						var $elements = structOfElements['elements'];
						
						var values = [];
						
						if ( typeof(structOfElements['filter']) != 'undefined' ) {
							$elements = $elements.filter(structOfElements['filter']);
						}
						$elements.each(function(){
							if ( $(this).val() ) {
								values.push($(this).val());
							}
						});
						
						return values;
					}
					
					
          
          function pcop_is_parent_value_selected(parent_option_id, parent_option_values) {
					
            var result = false;
						var selected_parent_values = pcop_getSelectedProductOptionValues(parent_option_id);
						
						if ( selected_parent_values.length && $(selected_parent_values).filter(parent_option_values).length ) {
							result = true;
						}
						
            /*
            pcop_options_container().find('input:checkbox[name="'+pcop_option_prefix+'['+parent_option_id+'][]"]:checked, input:radio[name="'+pcop_option_prefix+'['+parent_option_id+']"]:checked, select[name="'+pcop_option_prefix+'['+parent_option_id+']"], input[type=hidden][name="'+pcop_option_prefix+'['+parent_option_id+']"]')
            .each(function(){
						
                               
              if ( $(this).val() && $.inArray($(this).val(), parent_option_values) != -1 ) {
                result = true;  
                return false; // stop the loop
              }
                              
            });
            */
						                  
            return result;
            
          }
          
          
          var pcop_delayed_first_option_change_call_timer = 0;
					function pcop_delayed_first_option_change_call(start_event) {
            
						clearTimeout(pcop_delayed_first_option_change_call_timer);
						if (start_event) {
							pcop_options_container().find('[name^="'+pcop_option_prefix+'"]:first').change();
            } else {
							pcop_delayed_first_option_change_call_timer = setTimeout(function(){
								pcop_delayed_first_option_change_call(true);
							}, 200);
						}
						
          }
					
					function pcop_getOptionContainer(product_option_id) {
					
						if ( typeof(pcop_cache['option_containers'][product_option_id]) == 'undefined' ) {
							var option_name = pcop_option_prefix+'['+product_option_id+']';
							var $container_of_all_options = pcop_options_container();
							var $option_container = $container_of_all_options.find('[name^="'+option_name+'"]').closest('div.form-group');
							if ( !$option_container.length ) { // QPO
								$option_container = $container_of_all_options.find('[name^="quantity_per_option['+product_option_id+']"]').closest('div.form-group');
							}
							if ( !$option_container.length ) { // copu
								$option_container = $container_of_all_options.find('[name^="copu_product_id['+product_option_id+']"]').closest('div.form-group');
							}
							pcop_cache['option_containers'][product_option_id] = $option_container;
						}
						return pcop_cache['option_containers'][product_option_id];
					}
          
          function pcop_change_option_visibility(product_option_id, option_toggle) {
					
            var option_name = pcop_option_prefix+'['+product_option_id+']';
						var $container_of_all_options = pcop_options_container();
						var $option_container = pcop_getOptionContainer(product_option_id);
						var option_was_visible = $option_container.is(':visible');
            //var option_was_visible = pcop_options_container().find('[name^="'+option_name+'"]').closest('div.form-group').is(':visible');
          
						$option_container.toggle(option_toggle);
						if ( $option_container.next().is('br') ) {
              $option_container.next().toggle(option_toggle);
            }
            //pcop_options_container().find('[name^="'+option_name+'"]').closest('div.form-group').toggle(option_toggle);
            //if ( pcop_options_container().find('[name^="'+option_name+'"]').closest('div.form-group').next().is('br') ) {
            //  pcop_options_container().find('[name^="'+option_name+'"]').closest('div.form-group').next().toggle(option_toggle);
            //}
						
						//pcop_options_container().find('[name^="quantity_per_option['+product_option_id+']"]').closest('div.form-group').toggle(option_toggle);
						
						//var copu_form_group = pcop_options_container().find('[name^="copu_product_id['+product_option_id+']"]').closest('div.form-group');
						//copu_form_group.toggle(option_toggle);
            
            if ( $container_of_all_options.find('#copu-tbl-'+product_option_id).length && $container_of_all_options.find('#copu-tbl-'+product_option_id).parent().is('.option') ) {
              $container_of_all_options.find('#copu-tbl-'+product_option_id).parent().toggle(option_toggle);
              if ( !option_toggle && $container_of_all_options.find('#copu-tbl-'+product_option_id).find('a[onclick^="deleteUpload"]').length ) {
                
                $container_of_all_options.find('#copu-tbl-'+product_option_id).find('tr[id^="upload"]').each(function(){
                  if ( $container_of_all_options.find('#copu-tbl-'+product_option_id).find('tr[id^="upload"]').length ) {
                    var upload_id = $(this).attr('id').substr(6);
                    var remove_url = 'index.php?route=myoc/copu/delete&upload_id='+upload_id;
                    
                    $.ajax({
                      url: remove_url,
                      dataType: 'json',
                      success: function(json) {
                        if(json['error']) {
                          alert(json['error']);
                        }
                      },
                      error: function(xhr, ajaxOptions, thrownError) {
                        alert(thrownError + '\r\n' + xhr.statusText + '\r\n' + xhr.responseText);
                      }
                    });
                  }
                });
                
                $container_of_all_options.find('#copu-tbl-'+product_option_id).find('tbody tr[id^="upload"]').remove();
                $container_of_all_options.find('#copu-tbl-'+product_option_id).find('a[onclick^="deleteUpload"]').remove();
                $container_of_all_options.find('#copu-tbl-'+product_option_id).find('tbody').find('tr.empty').remove();
                $container_of_all_options.find('#copu-tbl-'+product_option_id).find('tbody').prepend(empty_row);
                
              }
            }
            
            var values_changed = false;
            
            if ( option_toggle ) { // visible
              
              if ( !option_was_visible ) { // became  visible
              
                // default values (specific for text fields)
                if ( !$('input[type="text"][name="'+option_name+'"]').val() && pcop_html_default_values && pcop_html_default_values[product_option_id] ) {
                  $('input[type="text"][name="'+option_name+'"]').val(pcop_html_default_values[product_option_id]);
                  // direct evant call for text field
                  pcop_delayed_first_option_change_call();
                  //$('input[type="text"][name="'+option_name+'"]').change();
                }
								
								if ( typeof(qpo_resetQuantities) == 'function' ) {
									qpo_resetQuantities(2, product_option_id); //reset to defaults
								}
								
              }
              
            } else { // hidden
							if ( option_was_visible ) { // became invisible
								if ( $container_of_all_options.find('select[name^="'+option_name+'"]').val() ) {
								
									$container_of_all_options.find('select[name^="'+option_name+'"]').val('');
									$container_of_all_options.find('select[name^="'+option_name+'"]').prop('value', '');// needed sometimes
									values_changed = true;
									
																		
								}
								if ( $container_of_all_options.find('input:checkbox[name^="'+option_name+'"]:checked').length ) {
									$container_of_all_options.find('input:checkbox[name^="'+option_name+'"]:checked').prop('checked', false);
									values_changed = true;
								}
								if ( $container_of_all_options.find('input:radio[name^="'+option_name+'"]:checked').length ) {
									$container_of_all_options.find('input:radio[name^="'+option_name+'"]:checked').prop('checked', false);
									values_changed = true;
								}
              
								var elem_other_option = $container_of_all_options.find('input:not(:radio):not(:checkbox)[name^="'+option_name+'"]');
								if ( elem_other_option.length
									&& elem_other_option.val() ) {
								
									var val_before = elem_other_option.val();
									elem_other_option.val('');
									
									if ( elem_other_option.val() ) {
										// to fix a bug with not working "val()"
										elem_other_option.prop('value', '');
									}
									
									// Product Image Option DropDown compatibility
									if ( elem_other_option.closest('.select').length && $.fn.ddslick && elem_other_option.closest('.select').data('ddslick') ) {
										var poidd_onSelected = elem_other_option.closest('.select').data('ddslick').settings.onSelected;
										elem_other_option.closest('.select').data('ddslick').settings.onSelected = ''; // to not call event 
										elem_other_option.closest('.select').ddslick('select', {index: '0' });
										elem_other_option.closest('.select').data('ddslick').settings.onSelected = poidd_onSelected;
									}
									
									// direct event call for text field
									if ( val_before ) {
										pcop_delayed_first_option_change_call();
										//$('input[type="text"][name="'+option_name+'"]').change();
									}
								}
								
								if ( $container_of_all_options.find('textarea[name^="'+option_name+'"]').length && $container_of_all_options.find('textarea[name^="'+option_name+'"]').val() ) {
									$container_of_all_options.find('textarea[name^="'+option_name+'"]').val('');
								}
								
								if ( typeof(qpo_resetQuantities) == 'function' ) {
									qpo_resetQuantities(-1, product_option_id); //reset to empty
								}
							//pcop_options_container().find('[name^="quantity_per_option['+product_option_id+']"]').val('');
              }
            }
            
            // << hided is not required
            if ( !$('#options_pcop_not_required').length ) {
              pcop_options_container().append('<input type="text" name="options_pcop_not_required" id="options_pcop_not_required" value="" style="display:none!important;">');
            }
            
            if ( !$('#options_pcop_not_required').val() ) {
              var current_opts = [];
            } else {
              var current_opts = $('#options_pcop_not_required').val().split(',');
            }
            
            var new_opts = [];
            for (var i in current_opts) {
              if ( !current_opts.hasOwnProperty(i) ) continue;
              if ( current_opts[i] != product_option_id) {
                new_opts.push(current_opts[i]);
              }
            }
            
            if (!option_toggle ) {
              new_opts.push(product_option_id);
            }
            $('#options_pcop_not_required').val(new_opts.toString());
            
            if ( $('#options_pcop_not_required').val() == "NaN" ) {
              $('#options_pcop_not_required').attr('value', new_opts.toString());
            }
            
            // >> hided is not required
            
            if ( !option_was_visible && option_toggle ) { // became visible
							
							// use html defaults
							if ( pcop_html_default_values && typeof(pcop_html_default_values[product_option_id]) != 'undefined' && pcop_html_default_values[product_option_id] ) {
								var option_elem = pcop_options_container().find('[name^="'+option_name+'"]');
								if ( option_elem.length ) {
									if ( option_elem.is('select') || option_elem.is('textarea') ) {
										option_elem.val(pcop_html_default_values[product_option_id]);
									} else if ( option_elem.is('radio') ) {
										option_elem.find('[value="'+pcop_html_default_values[product_option_id]+'"]').prop('checked', true);
									} else if ( option_elem.is('checkbox') ) {
										if ( pcop_html_default_values[product_option_id].length ) { // should be array
											option_elem.each(function(){
												if ( $.inArray($(this).val(), pcop_html_default_values[product_option_id]) ) {
													$(this).prop('checked', true);
												}
											});
										}
									}
								}
							}
							
							// improved options default selected values compatibility
							if ( typeof(improvedoptions_set_defaults) == 'function' ) {
								improvedoptions_set_defaults(false, product_option_id);
							}
            }
            
						
						// compatibility with Custom Formulas
						if ( typeof(esponi_OPA) == 'function' ) {
							esponi_OPA( pcop_options_container().find('[name^="'+option_name+'"]') );
						}
          
            return values_changed;
          
          }
          
          function pcop_check_visibility() {
					
            if (pcop_data && Object.keys(pcop_data).length) {
              
              var product_options_ids = [];
              pcop_options_container().find('input[name^="'+pcop_option_prefix+'["], textarea[name^="'+pcop_option_prefix+'["], select[name^="'+pcop_option_prefix+'["], input[type="hidden"][name^="copu_product_id"], select[name^="quantity_per_option["], input[name^="quantity_per_option["]').each(function(){
                var product_option_id = pcop_get_product_option_id_from_name($(this).attr('name'));
                if ( $.inArray(product_option_id, product_options_ids) == -1 ) {
                  product_options_ids.push(product_option_id)
                }
              });
							
              for (var j in product_options_ids) {
                if ( !product_options_ids.hasOwnProperty(j) ) continue;
              
                var product_option_id = product_options_ids[j];
                
                if (pcop_data[product_option_id]) {
                  var pcop_rules = pcop_data[product_option_id];
                  if (pcop_rules && pcop_rules.length) {
                    
                    var option_toggle = true;
                    var option_or_toggle = false;
                    var parents_or_cnt = 0;
                    
                    for (var i in pcop_rules) {
                      if ( !pcop_rules.hasOwnProperty(i) ) continue;
                      
                      var parent_option_id = pcop_rules[i]['parent_option_id'];
                      var parent_option_values = pcop_rules[i]['values'];
                      
                      var parent_result = pcop_is_parent_value_selected(parent_option_id, parent_option_values);
                      if ( pcop_rules[i]['pcop_or'] && pcop_rules[i]['pcop_or'] == '1' ) { 
                        option_or_toggle = option_or_toggle || parent_result;
                        parents_or_cnt++;
                      } else {
                        option_toggle = option_toggle && parent_result;
                      }
                      
                    }
                    
                    // all standard parents rules results should be TRUE and one of _OR_ parents results should be true
                    option_toggle = option_toggle && (option_or_toggle || !parents_or_cnt);
                    
                    if ( pcop_change_option_visibility(product_option_id, option_toggle) ) {
                      // если у скрываемой опции были выбраны значения и они были выключены, запустим процедуру заново
                      pcop_options_container().find('[name^="'+pcop_option_prefix+'['+product_option_id+']"]:first').change();
                      //pcop_check_visibility(); 
                      return;
                    }
                    
                  }
                }
              
              }
              
                          }
          }
					
					function pcop_options_container() {
					
						if ( typeof(pcop_cache['container']) == 'undefined' ) {
															pcop_cache['container'] = $('#product, section[id="content"], .boss-product').first();
													}
						return pcop_cache['container'];
					}
					
					function pcop_update_data(product_options) {
						pcop_data = {};
						if ( product_options && product_options != {} && product_options != [] ) {
							for (var i_product_options in product_options) {
								if ( !product_options.hasOwnProperty(i_product_options) ) continue;
								var product_option = product_options[i_product_options];
								if ( typeof(product_option['pcop_front']) != 'undefined' && product_option['pcop_front'] ) {
									pcop_data[product_option['product_option_id']] =  product_option['pcop_front'];
								}
							}
						}
					}
          
          var pcop_html_default_values = [];
					function pcop_update_default_values() {
						pcop_html_default_values = [];
						pcop_options_container().find('[name^="option["]').each(function(){
							var option_elem = $(this);
							var product_option_id = pcop_get_product_option_id_from_name(option_elem.attr('name'));
							if ( option_elem.is('select,textarea,:text') ) {
								if ( $(this).val() ) {
									pcop_html_default_values[product_option_id] = $(this).val();
								}
							} else if ( option_elem.is(':radio:checked') ) {
								pcop_html_default_values[product_option_id] = $(this).val();
							} else if ( option_elem.is(':checkbox:checked') ) {
								if ( typeof(pcop_html_default_values[product_option_id]) == 'undefined' ) {
									pcop_html_default_values[product_option_id] = [];
								}
								pcop_html_default_values[product_option_id].push(option_elem.val());
							}
						});
					}
					pcop_update_default_values();
          
          if ( (pcop_data && Object.keys(pcop_data).length) || !pcop_theme_name ) { // !pcop_theme_name - admin section
            pcop_options_container().on('change', 'input:checkbox[name^="'+pcop_option_prefix+'"], input:radio[name^="'+pcop_option_prefix+'"], select[name^="'+pcop_option_prefix+'"]', function(){
              pcop_check_visibility();
            });
            
            // journal2
            $('#product').on('click', 'ul li[data-value]', function() {
              setTimeout( function(){
                pcop_check_visibility();
              }, 50);
            });
            
            // Product Image Option DropDown compatibility
            if ( $('.select').length && $.fn.ddslick ) {
              setTimeout( function(){
                if ( $('.select').data('ddslick') ) {
                  $('.select').each(function(){
                    $(this).data('ddslick').settings.onSelected = function(){
                      setTimeout( function(){
                        pcop_check_visibility();
                      }, 10);
                    };
                  
                  });
                }
              }, 100);
            }
            
          }
          
          if (pcop_data && Object.keys(pcop_data).length) {
						if ((pcop_theme_name.substr(0,9) == 'OPC080191' || pcop_theme_name.substr(0,9) == 'OPC070174') && pcop_options_container().find('select[name^="'+pcop_option_prefix+'"]').length) { // Diamond by TemplateMela and others
						
							// check visibility only after styles applying for selects
							var pcop_check_selects_counter = 0;
							var pcop_check_selects_interval_id = setInterval(function(){
								
								pcop_check_selects_counter++;
								if (pcop_options_container().find('select[name^="'+pcop_option_prefix+'"]:last').hasClass('hasCustomSelect') || pcop_check_selects_counter == 20) {
									clearInterval(pcop_check_selects_interval_id);
									pcop_check_visibility();
								}
							},50);
						
						} else {
							pcop_check_visibility();
							$(document).ready(function(){ // additionally for ready (sometimes options can be changed by theme script after page loading)
								pcop_check_visibility();
							});
						}
          }
        
        //--></script>
        
        <!-- >> Parent-child Options -->
        
        

			      

      <!-- Product Option Image PRO module << -->
      <script type="text/javascript" id="poip_default_product_script"><!--

	//PREFIXES
	//additional_ - additional code
	//replace_ - replace standard code
	//if_ - replace standard code if returns true
	//custom_ - custom function to call inside custom theme object

	var poip_product_default = function($product_container) {
		if ( $product_container ) {
			this.$product_container = $product_container;
		}
		this.init();
		if ( typeof(this.custom_init) == 'function') {
			this.custom_init();
		}
	}
	
	poip_product_default.prototype.each = function(collection, fn){
		for ( var i_item in collection ) {
			if ( !collection.hasOwnProperty(i_item) ) continue;
			if ( fn(collection[i_item], i_item) === false ) {
				return;
			}
		}
	},
	
	poip_product_default.prototype.init = function(call_cnt) {
		var this_object = this;
		
		call_cnt = call_cnt || 1;
		if ( typeof($) == 'undefined' ) { // try to wait for jquery initialization
			if ( call_cnt < 100 ) {
				setTimeout(function(){
					this_object.init(call_cnt+1);
				}, 100);
			}
			return; // no jquery
		}
		
		this_object.set_visible_images_timer_id = false;
		this_object.set_visible_images_first_call = true;
		this_object.update_zoom_image_timer_id = false;
		this_object.function_event_option_value_select_is_still_working = false;
		this_object.function_event_option_value_select_timer_id = 0;
		
		// determine option name prefix
		this_object.option_prefix = "option";
		if (this_object.getElement('[name^="option_oc["]').length) {
			this_object.option_prefix = "option_oc";
		}
		this_object.option_prefix_length = this_object.option_prefix.length;
		
		// usage of colorbox
		this_object.use_refresh_colorbox = this_object.useColorboxRefreshing();
		
				
		// get standard main image data		
		this_object.std_src = this_object.getMainImage().attr('src');
		this_object.std_href = this_object.getMainImage().closest('a').attr('href');
		
		if ( typeof(this_object.additional_setMainImageInitialHref) == 'function' ) {
			this_object.additional_setMainImageInitialHref();
		}
				
		// main product image may be included to the list, we should take it into account
		if ( typeof(this_object.additional_useAddInitialMainImageToPoipImages) != 'function' || this_object.additional_useAddInitialMainImageToPoipImages() ) {
			this_object.getAdditionalImagesBlock().find('a').each(function() {
				var img_href = '';
				if ( $(this).attr('data-zoom-image') ) {
					img_href = $(this).attr('data-zoom-image');
				} else if ( $(this).attr('data-image') ) {
					img_href = $(this).attr('data-image');
				} else if ( $(this).attr('href') && $(this).attr('href').substr(0,1) != "#" ) {
					img_href = $(this).attr('href');
				}
				var img_src = $(this).find('img:first').attr('src');
				if (img_href && img_src) {
					if ( !this_object.getImageBySrc(img_href, 'popup') && !this_object.getImageBySrc(img_href, 'main') && !this_object.getImageBySrc(img_src, 'thumb') ) {
						poip_images.unshift({"product_id":"40","product_image_id":["-1"],"popup":"","main":"","thumb":""});
						poip_images[0].popup = img_href;
						poip_images[0].main = img_href;
						poip_images[0].thumb = img_src;
					}
				}
			});
		}
		
		if ( typeof(this_object.additional_useOldOCStyleInit) == 'function' && this_object.additional_useOldOCStyleInit() ) {
		
			// old style
			
			this_object.checkEventsForSelects(true);
			
			this_object.getElement('div.options').click(function(){
				this_object.checkEventsForSelects();
			});
			
			// more compatible
			this_object.getContainer().on('change', 'input:radio[name^="'+this_object.option_prefix+'["]', function() {
				this_object.eventOptionValueSelect(this);
			});
			/*
			$("input[type=radio][name^="+this_object.option_prefix+"\\[]").each(function (i) {
				$(this).change(function(){
					this_object.eventOptionValueSelect(this);
				})
			});
			*/
			
			if ( typeof(this_object.additional_makeInitActions) == 'function' ) {
				this_object.additional_makeInitActions();
			}
			
			this_object.getElement("input[type=checkbox][name^="+this_object.option_prefix+"\\[]").each(function (i) {
				$(this).change(function(){
					this_object.eventOptionValueSelect(this);
				})
			})
			
			if (poip_settings['img_hover']) {
				if ( typeof(this_object.replace_turnOnAdditionalImagesMouseover) == 'function' ) {
					this_object.replace_turnOnAdditionalImagesMouseover();
				} else { // standard way
					// more compatible
					this_object.getAdditionalImagesBlock().on('mouseover', 'a' ,function(){
						this_object.eventAdditionalImageMouseover(this);
					});
				}
			}
	
			
			$().ready(function(){
			
				if ( poip_product_option_ids.length ) {
					this_object.changeAvailableImages(poip_product_option_ids[0]);
				} else {
					this_object.setVisibleImages(this_object.getBasicVisibleImages());
				}
				this_object.refreshPopupImages();
			
				if ( typeof(this_object.additional_documentReady) == 'function' ) {
					this_object.additional_documentReady();
				}
				
				this_object.setDefaultOptionsByURL();
				
			});
		} else {
	
			// new style
			if ( $.magnificPopup ) {
				this_object.getAdditionalImagesBlock().find('a').each(function(){
					if ( this_object.hrefIsVideo( $(this).attr('href') ) ) {
						if ( !$(this).hasClass('mfp-iframe') ) {
							$(this).addClass('mfp-iframe');
						}
					}
				});
			}
			
			this_object.getElement('#product, .product-options, .product-info .options, .product-info, #product_quickw, #option-select').on('change', 'select[name^="'+this_object.option_prefix+'["], input[type=radio][name^="'+this_object.option_prefix+'["], input[type=checkbox][name^="'+this_object.option_prefix+'["]', function(){
				this_object.eventOptionValueSelect(this);
			});
			
			if ( typeof(this_object.additional_makeInitActions) == 'function' ) {
				this_object.additional_makeInitActions();
			}
			
			if (poip_settings['img_hover']) {
				if ( typeof(this_object.replace_turnOnAdditionalImagesMouseover) == 'function' ) {
					this_object.replace_turnOnAdditionalImagesMouseover();
				} else { // standard way
					// more compatible
					this_object.getAdditionalImagesBlock().on('mouseover', 'a' ,function(){
						this_object.eventAdditionalImageMouseover(this);
					});
				}
			}
			
			$().ready(function(){
				
				// fix of a kind of autoupdate module removing first empty values of options
				if ( this_object.getElement('select[name^="'+this_object.option_prefix+'["]').length && this_object.getElement('select[name^="'+this_object.option_prefix+'["] option[value=""]').length == 0 ) {
					this_object.externalOptionChange();
				}
			
				if ( poip_product_option_ids.length ) {
					this_object.changeAvailableImages(poip_product_option_ids[0]);
				} else {
					this_object.setVisibleImages(this_object.getBasicVisibleImages());
				}
				this_object.refreshPopupImages();
				
				if ( typeof(this_object.additional_documentReady) == 'function' ) {
					this_object.additional_documentReady();
				}
				
				this_object.setDefaultOptionsByURL();
				
			});
		}
	}
	
	// for better code transferring with the module version for opencart 3.x
	poip_product_default.prototype.getElement = function(selector) {
		var this_object = this;
		if ( this_object.$product_container ) {
			return this_object.$product_container.is(selector) ? this_object.$product_container : this_object.$product_container.find(selector);
		} else {
			return $(selector);
		}
	};
	
	poip_product_default.prototype.getContainer = function() {
		var this_object = this;
		if ( this_object.$product_container ) {
			return this_object.$product_container;
		} else {
			return $(document);
		}
	}
	
	poip_product_default.prototype.getProductOptionIdByName = function(name) {
		var this_object = this;
		return name.substr(this_object.option_prefix_length+1, name.indexOf(']')-(this_object.option_prefix_length+1) )
	}
	
	// checkbox_variant : 1 - without checkbox, 2 - only checkbox
	poip_product_default.prototype.getSelectedOptionValues = function(checkbox_variant, product_option_id) {
		var this_object = this;
	
		var values = [];
		
		var select_string = "";
		if (!checkbox_variant || checkbox_variant==1) {
			select_string += 'select[name^="'+this_object.option_prefix+'["], input[type=radio][name^="'+this_object.option_prefix+'["]:checked';
		}
		if (!checkbox_variant || checkbox_variant==2) {
			select_string += (select_string=='' ? '' : ', ') + 'input[type=checkbox][name^="'+this_object.option_prefix+'["]:checked';
		}
		
		this_object.getElement(select_string).each(function () {
			var current_product_option_id = this_object.getProductOptionIdByName($(this).attr('name'));
			if ( (!product_option_id && $.inArray(current_product_option_id, poip_product_option_ids) != -1)
			|| (product_option_id && product_option_id == current_product_option_id) ) {
				if ($(this).val()) {
					values.push($(this).val());
				}
			}
		});
		return values;
	}
	
	poip_product_default.prototype.addToArrayIfNotExists = function(val, arr) { // object always by link
		if ( $.inArray(val, arr) == -1 ) {
			arr.push(val);
		}
	}
	
	poip_product_default.prototype.getBasicVisibleImages = function(all_pov_images) {
		var this_object = this;
		
		// images which should be visible before options filter applying
		var global_visible_images = [];
		var images_by_settings = [];
		var selected_values = this_object.getSelectedOptionValues(); 
		for (var i=0; i<poip_images.length; i++) {
			var poip_img = poip_images[i];
			if ( poip_img['product_image_id'] || !poip_img['product_option_id'] || !poip_img['product_option_id'].length ) { // стандартное доп.изображение 
				this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
			} else {
				for (var i_product_option_id in poip_img['product_option_id']) {
					if ( !poip_img['product_option_id'].hasOwnProperty(i_product_option_id) ) continue;
					var product_option_id = poip_img['product_option_id'][i_product_option_id];
				//for (var product_option_id in poip_options_settings) {
					
					// check for "no value" (display the image if its option is not selected)
					if ( poip_img['product_option_value_id'] && poip_img['product_option_value_id'].length && $.inArray(-product_option_id, poip_img['product_option_value_id']) != -1 ) {
						this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
					} else if (poip_options_settings[product_option_id]['img_use'] == 1 || all_pov_images) { // вкл изображения всех значений
						this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
					} else if (poip_options_settings[product_option_id]['img_use'] == 2) { // вкл изображения только выбранных значений
						for (var j=0; j<selected_values.length; j++) {
							if ($.inArray(selected_values[j], poip_images[i]['product_option_value_id'])!=-1) {
								this_object.addToArrayIfNotExists(poip_images[i]['popup'], global_visible_images);
							}
						}
					}
				}
			}
		}
		
		if ( typeof(this_object.additional_addMainImageInitialHrefToArray) == 'function' ) {
			global_visible_images = this_object.additional_addMainImageInitialHrefToArray(global_visible_images);
		}
		
		return global_visible_images;
	}
	
	poip_product_default.prototype.getIntersectionOfArrays = function(arr1, arr2) {
		var this_object = this;
		
		var match = [];
		$.each(arr1, function (i, val1) {
			if ($.inArray(val1, arr2) != -1 && $.inArray(val1, match) == -1) {
				match.push(val1);
			}
		});
		
		return match;
	}
	
	poip_product_default.prototype.getConcatenationOfArraysUnique = function(arr1, arr2) {
		var arr = arr1.slice();
		for ( var i_arr2 in arr2 ) {
			var value = arr2[i_arr2];
			if ( $.inArray(value, arr) == -1 ) {
				arr.push(value);
			}
		}
		return arr;
	}
	
	poip_product_default.prototype.getBasicImagesForMainImage = function() {
		var this_object = this;
		
		var images_for_main_image = this_object.getBasicVisibleImages(true);
		if ( this_object.std_href ) {
			if ( $.inArray(this_object.std_href, images_for_main_image) == -1 ) {
				images_for_main_image = [this_object.std_href].concat(images_for_main_image);
			}
		}
		return images_for_main_image;
	}
	
	poip_product_default.prototype.getImagesForProductOptionValueIds = function(pov_ids) {
		var this_object = this;
		
		var images = [];
		for (var i_poip_images in poip_images) {
			var poip_img = poip_images[i_poip_images];
			if (poip_img['product_option_value_id'] && poip_img['product_option_value_id'].length) {
				for (var i_pov_ids in pov_ids) {
					var product_option_value_id = pov_ids[i_pov_ids];
					if ($.inArray(product_option_value_id, poip_img['product_option_value_id']) !== -1 && $.inArray(poip_img['popup'], images) == -1 ) {
						images.push(poip_img['popup']);
					}
				}
			}
		}
		return images;
	}
	
	poip_product_default.prototype.getImagesForNotSelectedProductOption = function(product_option_id) {
		var this_object = this;
		
		var images = [];
		for (var i_poip_images in poip_images) {
			var poip_img = poip_images[i_poip_images];
			if ( poip_img['product_option_value_id'] && poip_img['product_option_value_id'].length ) {
				// -product_option_id is used for images checked to be shown when option is not selected
				if ( $.inArray(-product_option_id, poip_img['product_option_value_id']) != -1 ) {
					images.push(poip_img['popup']);
				}
			}
		}
		return images;
	}
	
	poip_product_default.prototype.getImagesNotLinkedToProductOption = function(product_option_id) {
		var this_object = this;
		
		var images = [];
		for (var i_poip_images in poip_images) {
			var poip_img = poip_images[i_poip_images];
			
			if ( !poip_img['product_option_id'] || $.inArray(product_option_id, poip_img['product_option_id']) == -1 ) {
				if ( $.inArray(poip_img['popup'], images) == -1 ) {
					images.push(poip_img['popup']);
				}
			}
		}
		return images;
	}
	
	poip_product_default.prototype.changeAvailableImages = function(product_option_id) {
		var this_object = this;
	
		if ($.inArray(product_option_id, poip_product_option_ids)==-1) {
			return;
		}
		
		var global_visible_images = this_object.getBasicVisibleImages();
		var current_visible_images = global_visible_images.slice();
		
		var images_for_main_image = this_object.getBasicImagesForMainImage();
		var all_images_of_selected_option_values = [];
		//var images_for_main_image = this_object.getBasicVisibleImages(true);
		
		for (var i in poip_product_option_ids) {
			
			if (!poip_product_option_ids.hasOwnProperty(i)) continue;
		
			var current_product_option_id = poip_product_option_ids[i];
			var current_product_option_selected_values = this_object.getSelectedOptionValues(0, current_product_option_id);
			
			if ( current_product_option_selected_values.length ) {
				var images_to_show = this_object.getImagesForProductOptionValueIds(current_product_option_selected_values);
			} else {
				var images_to_show = this_object.getImagesForNotSelectedProductOption(current_product_option_id);
			}
			
			if ( images_to_show.length ) {
				if ( poip_options_settings[current_product_option_id]['img_use'] ) {
				//if ( poip_options_settings[current_product_option_id]['img_use'] && current_product_option_selected_values.length )	{
					if ( poip_options_settings[current_product_option_id]['img_limit'] == 1 ) {	 // intersection
						current_visible_images = this_object.getIntersectionOfArrays(current_visible_images, images_to_show);
					} else if ( poip_options_settings[current_product_option_id]['img_limit'] == 2 ) {	 // intersection with all images not linked to the option
						// add all images not linked with the selected options
						var images_to_show_with_other_images = this_object.getConcatenationOfArraysUnique(images_to_show, this_object.getImagesNotLinkedToProductOption(current_product_option_id) );
						current_visible_images = this_object.getIntersectionOfArrays(current_visible_images, images_to_show_with_other_images);
					} else { // addition
						current_visible_images = this_object.getConcatenationOfArraysUnique(current_visible_images, images_to_show);
					}
					all_images_of_selected_option_values = this_object.getConcatenationOfArraysUnique(all_images_of_selected_option_values, images_to_show);
				}
				if ( poip_options_settings[current_product_option_id]['img_change'] ) {
					images_for_main_image = this_object.getIntersectionOfArrays(images_for_main_image, images_to_show);
				}
			}
		}
		
		if (current_visible_images.length == 0) {
			// no images suitable for all selected option values at the same time
			// try to use just an amount of images suitable for every selected option value
			current_visible_images = this_object.getIntersectionOfArrays(global_visible_images, all_images_of_selected_option_values);
			if (current_visible_images.length == 0) {
				// still no images? use global
				current_visible_images = global_visible_images;
			}
		}
		
		this_object.setVisibleImages(current_visible_images);

		if ( images_for_main_image.length == 0 ) { // if there is no image suitable for all selected options
			var selected_pov_ids = this_object.getSelectedOptionValues(0, product_option_id);
			if ( selected_pov_ids.length ) { // try to get images for the currently selected option only
				images_for_main_image = this_object.getImagesForProductOptionValueIds(selected_pov_ids)
			}
			if ( images_for_main_image.length == 0 ) { // still no image? get basic
				images_for_main_image = this_object.getBasicImagesForMainImage();
			}
			
			//images_for_main_image = this_object.getBasicVisibleImages(true);
		}
		
		return images_for_main_image;
	}
	
	poip_product_default.prototype.refreshPopupImages = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_refreshPopupImages) == 'function' ) {
			return this_object.replace_refreshPopupImages();
		}
	
		if ( typeof(this_object.if_refreshPopupImages) == 'function' ) {
			if ( this_object.if_refreshPopupImages() ) {
				return;
			}
		}
		
		if (!poip_settings['img_gal']) {
			if ( this_object.getElement('li.image-additional').length ) { // OC 2.0 new-style default
				
				// exclude main image from gallery (main image should be present in additional images already)
				this_object.getElement('.thumbnails').magnificPopup({
					type:'image',
					delegate: '.image-additional a',
					gallery: {
						enabled:true
					}
				});
				this_object.getMainImage().off('click');
				//this_object.getMainImage().off('click', this_object.eventMainAImgClick);
				this_object.getMainImage().on('click', function(event) {
					this_object.eventMainAImgClick(event, this);
				});
				//this_object.getMainImage().on('click', this_object.eventMainAImgClick);
			}
			return;
		}
		
		
		if ( typeof(this_object.if_refreshPopupImagesBody) == 'function' && this_object.if_refreshPopupImagesBody() ) {
			// nothing
		} else if ( this_object.getElement('li.image-additional').length ) { // OC 2.0 new-style default
			// OC 2.0 DEFAULT instead of colorbox in OC 1.X
			
			if ( typeof($.magnificPopup) != 'undefined' ) {
				this_object.getElement('.thumbnails').magnificPopup({
					type:'image',
					delegate: '.image-additional a:visible',
					gallery: {
						enabled:true
					}
				});
			}
			
			this_object.getMainImage().off('click');
			//this_object.getMainImage().off('click', this_object.eventMainAImgClick);
			this_object.getMainImage().on('click', function(event) { this_object.eventMainAImgClick(event, this); } );
			
		} else { // OC 1.X and OC 2.0 old-style themes
			this_object.refreshColorboxImages();
		}
	}
	
	poip_product_default.prototype.eventMainAImgClick = function(event, element) {
		var this_object = this;
		
		if ( typeof(this_object.if_eventMainAImgClick) == 'function' ) {
			var if_result = this_object.if_eventMainAImgClick(event, element);
			if ( if_result ) {
				return if_result;
			}
		}
		
		event.preventDefault();
		
		var main_href = $(element).parent().attr('href');
		var img_cnt = 0;
		this_object.getAdditionalImagesBlock().find('a').each(function(){
			if ($(this).attr('href') == main_href) {
				$(this).click();
				return;
			}
			img_cnt++;
		});
	}
	
	poip_product_default.prototype.sortImagesBySelectedOptions = function(p_images) {
		var this_object = this;
	
		var images = [];
		
		if ( poip_settings['options_images_edit'] == 1 ) { // use basic sort order (set on the Image tab)
			
			for ( var i_poip_images in poip_images ) {
				if ( !poip_images.hasOwnProperty(i_poip_images) ) continue;
				var poip_img = poip_images[i_poip_images];
				if ( $.inArray(poip_img['popup'], p_images) != -1 && $.inArray(poip_img['popup'], images) == -1 ) {
					images.push(poip_img['popup']);
				}
			}
			
		} else { // use option sort order (from the Option tab)
		
			var pov_ids = this_object.getSelectedOptionValues();
			
			for (var i_pov_ids in pov_ids) {
				if ( !pov_ids.hasOwnProperty(i_pov_ids) ) continue;
				var pov_id = pov_ids[i_pov_ids];
			
				if (poip_images_by_options && poip_images_by_options[pov_id] && poip_images_by_options[pov_id].length) {
					for (var i in poip_images_by_options[pov_id]) {
						if ( !poip_images_by_options[pov_id].hasOwnProperty(i) ) continue;
					
						if (poip_images_by_options[pov_id][i]['image']) {
							var image = this_object.getImageBySrc(poip_images_by_options[pov_id][i]['image'],'image');
							if (image && image['popup'] && $.inArray(image['popup'], p_images) != -1 && $.inArray(image['popup'], images) == -1) {
								images.push(image['popup']);
							}
						}	
					}
				}
			}
		}
		
		for (var i in p_images) {
			if ( !p_images.hasOwnProperty(i) ) continue;
		
			if ( $.inArray(p_images[i], images) == -1 ) {
				images.push(p_images[i]);
			}
		}
	
		return images;
	}
	
	// fn_svi
	poip_product_default.prototype.setVisibleImages = function(images_param) {
		var this_object = this;
	
		var images = this_object.sortImagesBySelectedOptions(images_param);
		var result = '';
		
		if ( typeof(this_object.replace_setVisibleImages) == 'function' ) {
			return this_object.replace_setVisibleImages(images);
			
		// << DEFAULT OC 2.0 STYLE	
		} else if ( this_object.getElement('li.image-additional').length ) { // OC 2.0 default
			var shown_img = [];
			this_object.getAdditionalImagesBlock().find('a').each( function(){
				var href = $(this).attr('href');
				if ( !href ) {
					href = $(this).attr('data-image');
				}
				if ( $.inArray( href, images) != -1 && $.inArray( href, shown_img) == -1) {
					$(this).show();
					shown_img.push(href);
				} else {
					$(this).hide();
				}
			});
		// >> DEFAULT OC 2.0 STYLE	
		
		
		// << originally theme 422 compatibility, currently common	
		} else if (this_object.getElement('div[class=image-additional]').find('ul[id=image-additional]').length) {
		
			// make inages list copy
			if ( !this_object.getElement('#image-additional-copy').length ) {
				this_object.getElement('div[class=image-additional]').after("<div id=\"image-additional-copy\" style=\"display: none;\">"+this_object.getElement('div[class=image-additional]').find('ul[id=image-additional]').html()+"</div>");
			}
			
			// check is image list update needed
			var new_html = '';
			var new_images = [];
			this_object.getElement('#image-additional-copy').find('a').each( function(){
				if ($.inArray( $(this).attr('data-image'), images) != -1 || $.inArray(decodeURIComponent($(this).attr('data-image')), images) != -1) {
					// anchors have parents = "li"
					new_html += "<li>"+$(this).parent().html()+"</li>";
					new_images.push($(this).attr('data-image'));
				}
			});
			
			// there may be double images, so make groupping
			var images_changed = this_object.getElement('#image-additional').find('a').length != new_images.length;
			var same_images_count = 0;
			if (!images_changed) {
				this_object.getElement('#image-additional').find('a').each( function(){
					if ($.inArray( $(this).attr('data-image'), images) != -1 || $.inArray(decodeURIComponent($(this).attr('data-image')), images) != -1) {
						same_images_count++;
					}
				});
				images_changed = same_images_count != new_images.length;
			}
			
			if (images_changed) {	
				
				this_object.getElement('div[class=image-additional]').html("<ul id=\"image-additional\">"+new_html+"</ul>");
				
				if (this_object.getElement('#image-additional').find('a').length) {
					setTimeout( function () {
						this_object.getElement('#image-additional').bxSlider({
							pager:false,
							controls:true,
							slideMargin:10,
							minSlides: 3,
							maxSlides: 3,
							slideWidth:70,
							infiniteLoop:false,
							moveSlides:1
						});
						
						this_object.getElement('#zoom_01').elevateZoom({gallery:'image-additional', cursor: 'pointer', galleryActiveClass: 'active', imageCrossfade: true}); 
						//pass the images to Fancybox
						this_object.getElement('#zoom_01').bind("click", function(e) {  
							var ez =   this_object.getElement('#zoom_01').data('elevateZoom');	
							$.fancybox(ez.getGalleryList());
							return false;
						});
						
					}, 0);
				}
			}
			// >> theme 422 compatibility
		
			// << originally lexus superstore compatibility, currently some themes	
		} else if (this_object.getElement('div.image-additional').find('div.item').find('a').length) {
			var shown_img = [];
			this_object.getElement('div.image-additional').find('div.item').find('a').each( function(){
			
				if (($.inArray( this.href, images) != -1 || $.inArray(decodeURIComponent(this.href), images) != -1) && $.inArray( this.href, shown_img) == -1) {
					$(this).show();
					shown_img.push(this.href);
				} else {
					$(this).hide();
					
				}
			});
			// >> lexus superstore compatibility
			
			// << DEFAULT OC 1.X STYLE
		} else {	
		
			var shown_img = [];
			this_object.getAdditionalImagesBlock().find('a').each( function(){
			
				var current_href = $(this).attr('href');
				if ( (!current_href || current_href == '#') ) {
					if ($(this).attr('data-zoom-image')) {
						current_href = $(this).attr('data-zoom-image');
					} else {
						current_href = false;
					}
					if (current_href) {
						if ( $.inArray( current_href, images) != -1 && $.inArray( current_href, shown_img) == -1 ) {
							$(this).show();
							shown_img.push(current_href);
						} else {
							$(this).hide();
						}
					}
				}
			});
		}
		// >> DEFAULT OC 1.X STYLE
	}
	
	poip_product_default.prototype.elevateZoomDirectChange = function(img_click, timeout, elem_img, update_src, update_lens) {
		var this_object = this;
	
		if ( elem_img && elem_img.is('img') ) {
			var poip_img = this_object.getImageBySrc(img_click, 'popup');
			if ( elem_img.attr('data-zoom-image') ) {
				elem_img.attr('data-zoom-image', poip_img['popup']);
			}
			if ( elem_img.attr('data-image') ) {
				elem_img.attr('data-image', poip_img['main']);
			}
			if ( update_src ) {
				elem_img.attr('src', poip_img[update_src]);
			}
		}
		
		if ( timeout ) {
			setTimeout(function(){
				this_object.elevateZoomDirectChange(img_click, 0, elem_img, update_src, update_lens)
				//this_object.getElement('.zoomContainer .zoomWindowContainer div').css({"background-image": 'url("'+img_click+'")'});
			}, timeout);
		} else {
			this_object.getElement('.zoomContainer').find('.zoomWindowContainer').find('div').css("background-image", 'url("'+img_click+'")');
			if ( update_lens ) {
				if ( this_object.getElement('.zoomContainer').find('.zoomLens').css("background-image") && this_object.getElement('.zoomContainer').find('.zoomLens').css("background-image") != 'none' ) {
					this_object.getElement('.zoomContainer').find('.zoomLens').css("background-image", 'url("'+img_click+'")');
				}
			}
		}
	}
	
	poip_product_default.prototype.elevateZoomClickImage = function(img_click, p_cnt) {
		var this_object = this;
	
		var have_elevate_zoom = false;
		
		//this_object.getElement('#image-additional').find('li').find('a').each( function () {
		this_object.getAdditionalImagesBlock().find('a').each( function () {
			if ($(this).attr('data-image') == img_click || $(this).attr('data-zoom-image') == img_click) {
				have_elevate_zoom = true;
			}
		});
		
		if (have_elevate_zoom) {
			this_object.elevateZoomClickImageDelayed(img_click);
		}
		return have_elevate_zoom;
	}
	
	poip_product_default.prototype.elevateZoomClickImageDelayed = function(img_click, p_cnt) {
		var this_object = this;
		
		var cnt = (typeof(p_cnt)=='undefined' ? 1 : p_cnt );
		if ( cnt <= 100 ) {
		
			if ( !this_object.getElement('.zoomContainer').length ) {
				setTimeout(function(){
					this_object.elevateZoomClickImageDelayed(img_click, cnt+1)
				}, 100);
				return;
			}
			// run
			setTimeout( function() {
				this_object.getAdditionalImagesBlock().find('a').each( function () {
					if ($(this).attr('data-image') == img_click || $(this).attr('data-zoom-image') == img_click) {
						//$(this).find('img').click();
						$(this).click();
						return false;
					}
				});
				
				if ( typeof(this_object.additional_afterElevateZoomClickImage) == 'function' ) {
					this_object.additional_afterElevateZoomClickImage(img_click);
				}
				
			}, 100);	
		}	
	}
	
	
	poip_product_default.prototype.cloudZoomClick = function(img_click, elem_check_param, additional_images_param) {
		var this_object = this;
			
		if ( typeof(elem_check_param) != 'undefined' && elem_check_param ) {
			elem = elem_check_param;
		} else {
			elem = this_object.getElement('#zoom1');
		}
		if ( typeof(additional_images_param) != 'undefined' && additional_images_param ) {
			additional_images = additional_images_param;
		} else {
			additional_images = this_object.getElement('.image-additional a[href]');
		}
		if ( elem.data('zoom') || elem.data('CloudZoom') ) {
			setTimeout(function(){
				additional_images.each(function(){
					if ($(this).is('img') && $(this).parent().is('a')) {
						var current_a = $(this).parent();
					} else {
						var current_a = $(this);
					}
					if ( current_a.is('img') ) {
						img_src = current_a.attr('src');
						poip_img = this_object.getImageBySrc(img_src, 'main');
						if (!poip_img) {
							poip_img = this_object.getImageBySrc(img_src, 'popup');
						}
						if (!poip_img) {
							poip_img = this_object.getImageBySrc(img_src, 'thumb');
						}
						if (poip_img) {
							href = poip_img['popup'];
						} else {
							href = img_src;
						}
					} else {
						href = current_a.attr('href');
					}
					
					if ( img_click == href ) {
						$(this).click();
						return false;
					}
				});
			}, 200);
		}
	}
	
	// << theme lexus superstore & journal2
	poip_product_default.prototype.autoZoomSwitch = function(img_click) {
		this_object.getElement('.image a #image').attr('data-zoom-image', img_click);
		this_object.getElement('.zoomWindowContainer').find('div').css({"background-image": 'url("'+img_click+'")'});
		if (this_object.getElement('.image a #image').data('zoom-image')) {
			this_object.getElement('.image a #image').data('zoom-image', img_click);
		}
	}
	// >> theme lexus superstore
	
	poip_product_default.prototype.getDocumentReadyState = function() {
		var this_object = this;

		if ( typeof(this_object.replace_getDocumentReadyState) == 'function' ) {
			return this_object.replace_getDocumentReadyState();
		}

		return document.readyState == 'complete';
	}
	
	poip_product_default.prototype.updateZoomImage = function(img_click, call_cnt) {
		var this_object = this;
		
		if ( this_object.update_zoom_image_timer_id ) {
			clearTimeout(this_object.update_zoom_image_timer_id);
		}
	
		if ( !this_object.getDocumentReadyState() ) {
			if ( typeof(call_cnt) == 'undefined' ) {
				call_cnt = 1;
			}  
			if ( call_cnt <= 100 ) {
				this_object.update_zoom_image_timer_id = setTimeout(function(){
					this_object.updateZoomImage(img_click, call_cnt+1)
				}, 100);
			}
			return;
		}
		if ( typeof(this_object.replace_updateZoomImage) == 'function' ) {
			return this_object.replace_updateZoomImage(img_click);
		}
		
		if ( typeof(this_object.if_updateZoomImage) == 'function' ) {
			if ( this_object.if_updateZoomImage(img_click) ) {
				return;
			}
		}
		
		// << elevatezoom compatibility / some old style themes
		if ( this_object.elevateZoomClickImage(img_click) ) return;
		// >> elevatezoom compatibility  / some old style themes
		
		// << some cloud-zoom-gallery themes compatibility
		this_object.getElement('div.image-additional').find('a.cloud-zoom-gallery').each( function () {
			if ($(this).attr('href') == img_click) {
				$(this).find('img').click();
				return false;
			}
		});
		// >> some cloud-zoom-gallery themes compatibility
		
		// << originally came from lexus superstore & pav fashion, but works for many themes
		if (this_object.getElement('.image a #image').attr('data-zoom-image') && this_object.getElement('.zoomWindowContainer').length && this_object.getElement('.zoomWindowContainer').find('div').length) {
			this_object.autoZoomSwitch(img_click);
			return; 
		} else if (this_object.getElement('.image a #image').attr('data-zoom-image')) {
			setTimeout(function () { this_object.autoZoomSwitch(img_click); }, 100);
			return;
		}
		
		// >> originally came from lexus superstore & pav fashion, but works for many themes
		
		// << originally came from start theme, but maybe works for other themes
		this_object.getElement('#image-additional').find('a[data-zoom-image]').each( function () { 
			if ($(this).attr('href') == img_click) {
				$(this).click();
				return;
			}
		});
		// >> originally came from start theme, but maybe works for other themes
		
	}
	
	poip_product_default.prototype.setMainImage = function(main, popup) {
		var this_object = this;
		
		if ( typeof(this_object.replace_setMainImage) == 'function' ) {
			return this_object.replace_setMainImage(main, popup);
		} else if ( typeof(this_object.if_setMainImage) == 'function' && this_object.if_setMainImage(main, popup) ) {
			// nothing 	
		} else {
			this_object.getMainImage().attr('src', main);
			this_object.getMainImage().closest('a').attr('href', popup);
		}
	}
	
	poip_product_default.prototype.refreshOptionImagesContainer = function(option, product_option_id) {
		var this_object = this;
	
		if ( typeof(this_object.if_refreshOptionImagesContainer) == 'function' && this_object.if_refreshOptionImagesContainer(option, product_option_id) ) {
			return;
		}
	
		this_object.getElement('#option-images-'+product_option_id).remove();
		if (!this_object.getElement('#option-images-'+product_option_id).length) {
			if (this_object.getElement('#option-'+product_option_id).length) { // OC 1.X style
				this_object.getElement('#option-'+product_option_id).append('<div id="option-images-'+product_option_id+'"></div>');
			} else { // OC 2.0 style
				$(option).after('<div id="option-images-'+product_option_id+'" style="margin-top: 10px;"></div>');
			}
		}
	}
	
	poip_product_default.prototype.changeVisibleImages = function(option) {
		var this_object = this;
	
		//var product_option_id = option.name.substr(this_object.option_prefix_length+1, option.name.indexOf(']')-(this_object.option_prefix_length+1) );
		let product_option_id = this_object.getProductOptionIdByName(option.name);
		
		if ($.inArray(product_option_id, poip_product_option_ids)==-1) {
			return;
		}
		
		images_to_show = this_object.changeAvailableImages(product_option_id);
		
		var product_option_value_id = option.value;
		var selected_values = this_object.getSelectedOptionValues();
		
		if ( poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['img_change'] ) {
			var main_image_switched = false;
			
			if ( images_to_show.length==0 && value && $.inArray(value, selected_values)==-1 && this_object.std_src && this_object.std_href) {
				this_object.setMainImage(this_object.std_src, this_object.std_href);
				main_image_switched = true;
			}
			
			if ( !main_image_switched ) {
			
				// if any option is selected then relevant image should be displayed (even if complete set of options caused visibility of all images)
				var images_to_check = [];
				if ( product_option_value_id && $.inArray(product_option_value_id, selected_values) != -1 ) {
					for ( var i_images_to_show in images_to_show ) {
						if ( !images_to_show.hasOwnProperty(i_images_to_show) ) continue;
						var image_to_show = images_to_show[i_images_to_show];
						var poip_img = this_object.getImageBySrc(image_to_show, 'popup');
						if ( poip_img && poip_img['product_option_value_id'] && $.inArray(product_option_value_id, poip_img['product_option_value_id']) != -1 ) {
							images_to_check.push(image_to_show);
						}
					}
				}
				
				if ( !images_to_check.length ) {
					images_to_check = images_to_show;
				}
				
				var poip_img = this_object.getImageBySrc(images_to_check[0], 'popup');
				if ( poip_img ) {
					var image_main = poip_img['main'];
					var image_popup = poip_img['popup'];
				} else {
					var image_main = this_object.std_src;
					var image_popup = this_object.std_href;
				}
			
				this_object.setMainImage(image_main, image_popup);
				this_object.updateZoomImage(image_popup);
				
				main_image_switched = true;
				
			}
			
		}
		
		// images showing under options
		if (poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['img_option'] ) {
			if (!this_object.getElement('product_option_images'+product_option_id).length) {

				// checkbox may have many values
				if ($(option).prop('tagName')=='INPUT' && $(option).prop('type')=='checkbox' ) {
					var values = [];
					this_object.getElement('input[type=checkbox][name^='+this_object.option_prefix+'\\['+product_option_id+'\\]]:checked').each( function() {
						values.push($(this).val());
					});
				} else {
					var values = [product_option_value_id];
				}
				
				this_object.refreshOptionImagesContainer(option, product_option_id);
				
				//var new_style_img_opt = !this_object.getElement('#option-images-'+product_option_id).length && !this_object.getElement('#option-'+product_option_id).length;
				
				this_object.getElement('#option-images-'+product_option_id).html('');
				for (var i=0; i<poip_images.length; i++) {
					for (var j=0; j<values.length; j++) {
						if (poip_images[i]['product_option_value_id'] && $.inArray(values[j], poip_images[i]['product_option_value_id']) != -1) {
							var html_image = '<a href="'+poip_images[i]['popup']+'" class="image-additional" style="margin: 5px;"><img src="'+poip_images[i]['thumb']+'" ></a>';
							this_object.getElement('#option-images-'+product_option_id).append(html_image);
						}
					}
				}
				
				// OC 2.0 new-style default
				if ( this_object.getElement('#option-images-'+product_option_id+' a').length ) {
				//if ( new_style_img_opt && this_object.getElement('#option-images-'+product_option_id+' a').length ) {
				
					if ( $.magnificPopup ) {
						this_object.getElement('#option-images-'+product_option_id).magnificPopup({
							type:'image',
							delegate: 'a',
							gallery: {
								enabled:true
							}
						});
					}
				}
			}
		}
		
		if ( typeof(this_object.additional_afterChangeVisibleImages) == 'function' ) {
			this_object.additional_afterChangeVisibleImages();
		}
		
	}
	
	poip_product_default.prototype.getProductOptionImages = function(product_option_id) {
		var this_object = this;
		
		var images = [];
		
		for (var product_option_value_id in poip_images_by_options) {
			for (var i in poip_images_by_options[product_option_value_id]) {
				if (poip_images_by_options[product_option_value_id][i]['product_option_id'] == product_option_id) {
					images.push(poip_images_by_options[product_option_value_id][i]['image']);
				}
			}	
		}
		return images;
	}
	
	poip_product_default.prototype.getProductOptionValueImages = function(product_option_value_id) {
		var this_object = this;
		
		var images = [];
		for (var i in poip_images_by_options[product_option_value_id]) {
			images.push(poip_images_by_options[product_option_value_id][i]['image']);
		}	
		return images;
	}
	
	poip_product_default.prototype.getImageSrc = function(image, src) {
		var this_object = this;
		
		for (var i in poip_images) {
			if (poip_images[i]['image'] == image) {
				return poip_images[i][src];
			}
		}
		return '';
	}
	
	//poip_product_default.prototype.getImageBySrc = function(image, src) {
	//	var this_object = this;
	//	
	//	for (var i in poip_images) {
	//		if (poip_images[i][src] == image) {
	//			return poip_images[i];
	//		}
	//	}
	//	return '';
	//}
	
	poip_product_default.prototype.getImageBySrc = function(image, src1, src2, src3, src4) {
		var this_object = this;
			
		if ( !src1 && !src2 && !src3 && !src4 ) {
			src1 = 'popup';
			src2 = 'main';
			src3 = 'thumb';
			src4 = 'option_thumb';
		}
		
		let poip_img_found = '';
		this_object.each(poip_images, function(poip_img){
		//for (var i in poip_product.images) {
			//var poip_img = poip_product.images[i];
			if ( (src1 && poip_img[src1] == image) || (src2 && poip_img[src2] == image) || (src3 && poip_img[src3] == image) || (src4 && poip_img[src4] == image) ) {
				poip_img_found = poip_img;
				return false;
			}
		});
		return poip_img_found;
	};
	
	poip_product_default.prototype.getImagesBySrc = function(images, src1, src2, src3, src4) {
		var this_object = this;
		
		let poip_imgs = [];
		this_object.each(images, function(image){
			let poip_img = this_object.getImageBySrc(image, src1, src2, src3, src4);
			if (poip_img) {
			  poip_imgs.push(poip_img);
			}
		});
		return poip_imgs;
    };
	
	poip_product_default.prototype.getSrcImagesBySrc = function(src, images, src1, src2, src3, src4) {
		var this_object = this;
		
		let poip_imgs = this_object.getImagesBySrc(images, src1, src2, src3, src4);
		let src_images = [];
		this_object.each(poip_imgs, function(poip_img){
			src_images.push(poip_img[src]);
		});
		return src_images;
    };	
	
	poip_product_default.prototype.updateDependentThumbnails = function() {
		var this_object = this;
		
		for (var j in poip_product_option_ids) {
			
			var product_option_id = poip_product_option_ids[j];
			
			if (poip_options_settings[product_option_id] && poip_options_settings[product_option_id]['dependent_thumbnails']
					&& poip_options_settings[product_option_id]['img_first'] == 1 ) {
				
				var option_images = this_object.getProductOptionImages(product_option_id);
				
				for (var i in poip_product_option_ids) {
					if ( !poip_product_option_ids.hasOwnProperty(i) ) continue;
					
					if (poip_product_option_ids[i] == product_option_id) continue;
					var current_product_option_id = poip_product_option_ids[i];
					
					var current_product_option_selected_values = this_object.getSelectedOptionValues(0, current_product_option_id);
					
					var current_option_images = [];
					for (var poip_images_i in poip_images) {
						if (poip_images[poip_images_i]['product_option_value_id'] && poip_images[poip_images_i]['product_option_value_id'].length) {
							for (var copsv_i in current_product_option_selected_values) {
								if ($.inArray(current_product_option_selected_values[copsv_i], poip_images[poip_images_i]['product_option_value_id']) !== -1
									&& $.inArray(poip_images[poip_images_i]['image'], current_option_images) == -1 ) {
									current_option_images.push(poip_images[poip_images_i]['image']);
								}
							}
						}
					}
					option_images = this_object.getIntersectionOfArrays(option_images, current_option_images);
				}
				
				if (option_images.length == 0) {
					option_images = this_object.getProductOptionImages(product_option_id);
				}
				
				// change options icons
				this_object.getElement('#product').find('input[type=radio][name="'+this_object.option_prefix+'['+product_option_id+']"], input[type=checkbox][name="'+this_object.option_prefix+'['+product_option_id+']"]').each(function(){
					option_value_images = this_object.getProductOptionValueImages($(this).val());
					if (option_value_images.length) {
						current_option_value_images	= this_object.getIntersectionOfArrays(option_value_images, option_images);
						if (current_option_value_images.length) {
							$(this).next('img').attr('src', this_object.getImageSrc(current_option_value_images[0], 'option_thumb') );
						} else {
							$(this).next('img').attr('src', this_object.getImageSrc(option_value_images[0], 'option_thumb') );
						}
					}
				});
			}
		}
	}
	
	poip_product_default.prototype.eventOptionValueSelect = function (option) {
		var this_object = this;
		
		let product_option_id = this_object.getProductOptionIdByName(option.name);
		if ($.inArray(product_option_id, poip_product_option_ids)==-1) {
			return;
		}
	
		clearTimeout(this_object.function_event_option_value_select_timer_id);
	
		// not run twice parallel
		if ( this_object.function_event_option_value_select_is_still_working || this_object.set_visible_images_timer_id !== false) {
			this_object.function_event_option_value_select_timer_id = setTimeout(function(){
				this_object.eventOptionValueSelect(option);
			}, 100);
			return;
		}
		
		this_object.function_event_option_value_select_is_still_working = true;
	
		this_object.changeVisibleImages(option);
		
		this_object.refreshPopupImages();
		
		this_object.updateDependentThumbnails();
		
		this_object.function_event_option_value_select_is_still_working = false;
		
	}
	
	// return IMG element relevant to main image
	poip_product_default.prototype.getMainImage = function() {
		var this_object = this;
	
		if ( typeof(this_object.replace_getMainImage) == 'function' ) {
			return this_object.replace_getMainImage();
		}
		if ( typeof(this_object.if_getMainImage) == 'function' ) {
			// function should return result of jQuery call ( $(...) ) or FALSE
			var if_result = this_object.if_getMainImage();
			if ( if_result ) {
				return if_result;
			}
		}
			
		var oc2_main_img = this_object.getElement('ul.thumbnails li').not('.image-additional').find('a img');
		if ( oc2_main_img.length ) { // OC 2.0 default
			return oc2_main_img;
		}
	
		if (!this_object.getElement('#image').length) {
			if (this_object.getElement('#main-image').length) {
				return this_object.getElement('#main-image'); // originally for theme start, actually common
			}
			if (this_object.getElement('div.product-info div.image a img').length) {
				return this_object.getElement('div.product-info div.image a img'); // originally for theme cosyone, actually common
			}
			if (this_object.getElement('div.row-product a img[itemprop="image"]').length) {
				return this_object.getElement('div.row-product a img[itemprop="image"]'); // originally for theme moneymaker, actually common
			}
		}
		return this_object.getElement('#image'); // by standard default
	}
	
	poip_product_default.prototype.getElementOuterHTML =  function(elem) {
		var this_object = this;
		
		// should use $ here
		str = $('<div>').append(elem.clone()).html();
		//str = $(document.createElement("div")).append(elem.clone()).html();
		return str;
	}
	
	poip_product_default.prototype.getOuterHTML =  function(elem) { // for better compatibility with scripts converted from 3.x module version
		var this_object = this;
		return this_object.getElementOuterHTML(elem);
	}
	
	// returns element/elements (div, ul, li etc, depend on theme) containing links to additional images (а)
	poip_product_default.prototype.getAdditionalImagesBlock = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_getAdditionalImagesBlock) == 'function' ) {
			return this_object.replace_getAdditionalImagesBlock();
			//var additional_images_block = this_object.replace_getAdditionalImagesBlock();
			//if (additional_images_block) {
			//	return additional_images_block;
			//}
		}
		if ( typeof(this_object.if_getAdditionalImagesBlock) == 'function' ) {
			// returns result of jQuery call ( $(...) ) or FALSE
			var if_result = this_object.if_getAdditionalImagesBlock();
			if ( if_result ) {
				return if_result;
			}
		}
		
		
		
		if ( this_object.getElement('li.image-additional').length ) { // OC 2.0 default
			return this_object.getElement('li.image-additional');
		}
	
		if ( !this_object.getElement('div.image-additional').length ) {
			this_object.getElement('div.product-info div.image').after('<div class="image-additional"></div>');
		}
	
		return this_object.getElement('div.image-additional');
	}
	
	poip_product_default.prototype.getRefreshColorboxImagesVisible = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_getRefreshColorboxImagesVisible) == 'function' ) {
			return this_object.replace_getRefreshColorboxImagesVisible();
		}
		
		return this_object.getAdditionalImagesBlock().find('a:visible[href!="#"]');
	}
	
	poip_product_default.prototype.getColorboxSettings = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_getColorboxSettings) == 'function' ) {
			return this_object.replace_getColorboxSettings();
		}
		
		var colorbox_settings = false;
		try {
			var scripts = this_object.getElement('script:contains(".colorbox")');
			for (var i=0; i<scripts.length; i++) {
				var script_html  =$(scripts[i]).html();
				if (script_html.indexOf('$(\'.colorbox\').colorbox(') != -1 ) {
					var str_pos = script_html.indexOf('$(\'.colorbox\').colorbox(');
					var str = script_html.substr(str_pos+24);
					str_pos = str.indexOf('});');
					str = str.substr(0,str_pos+1);
					colorbox_settings = eval('('+str+')');
					break;
				}
			}
		} catch (e) {
			console.debug(e);
			colorbox_settings = false
		}
		
		if (!colorbox_settings || (typeof colorbox_settings) != 'object') {
			//console.log('colorbox settings not found');
			colorbox_settings = {
				overlayClose: true,
				opacity: 0.5,
				rel: "colorbox"
			};
		}
		
	}
	
	poip_product_default.prototype.refreshColorboxImages = function() {
		var this_object = this;
	
		// OC 2.0 not uses colorbox in default theme
		if (!this_object.use_refresh_colorbox) return;
		
		if (poip_settings['img_gal']) {
			
			if ( typeof(this_object.if_refreshColorboxImages) == 'function' && this_object.if_refreshColorboxImages() ) {
				return;
			}
		
			this_object.getElement('#poip_colorbox').remove();
			
			this_object.getAdditionalImagesBlock().after('<div style="display: none" id="poip_colorbox"></div>');
			
			var colorbox_images = [];

			var visible_images = this_object.getRefreshColorboxImagesVisible();
			
			visible_images.each(function(){
				var img_href = $(this).attr('href') ;
				if ($.inArray( img_href, colorbox_images) == -1) {
					this_object.getElement('#poip_colorbox').append( this_object.getElementOuterHTML($(this)).replace('colorbox', 'poip_colorbox') );
					colorbox_images.push(img_href);
				}
			});
			
			
			/* add main image to gallery, even if it's not included in additional images */
			if ($.inArray(this_object.getMainImage().parent().attr('href'), colorbox_images) == -1) {
				this_object.getElement('#poip_colorbox').append( this_object.getElementOuterHTML(this_object.getMainImage().parent()).replace('colorbox', 'poip_colorbox') );
				colorbox_images.push(this_object.getMainImage().parent().attr('href'));
			}
			
			// for ava store and, possible, other templates, poip_colorbox should be additionally filled
			this_object.getElement('#poip_colorbox a[href!="#"], #poip_colorbox a[href="#"][data-image]').each(function(){
				if ( !$(this).hasClass('poip_colorbox') ) {
					$(this).addClass('poip_colorbox');
				}
				if ($(this).attr('href') == '#' && $(this).attr('data-image')) {
					$(this).attr('href', $(this).attr('data-image'));
				}
			});
			
			if (typeof($.colorbox) !== 'undefined') {
				$.colorbox.remove();
			}
			
			if ( typeof(this_object.if_beforeColorboxReinit) == 'function' && this_object.if_beforeColorboxReinit() ) {
				return;
			}
			
			if ($.colorbox) {
			
				colorbox_settings = this_object.getColorboxSettings();
			
				if ( colorbox_settings ) {
					this_object.getElement('.poip_colorbox').colorbox(colorbox_settings);
					
					try {
						this_object.getElement('[id^=option-images-]').each( function() {
							
							colorbox_settings['rel'] = $(this).attr('id');
							// more compatible
							$(this).find('a').colorbox(colorbox_settings);
							
						});
					} catch(e) {
						console.debug(e);
						console.debug("colorbox under options gallery error");
					}
				}
			
			}
			
			if ( typeof(this_object.if_triggerAfterColorboxReinit) == 'function' && this_object.if_triggerAfterColorboxReinit() ) {
				// nothing
			} else {
				this_object.getElement('.colorbox').unbind('click');
				//this_object.getElement('.colorbox').unbind('click', this_object.eventColorboxClick);
				this_object.getElement('.colorbox').bind( 'click', function(event) {
					this_object.eventColorboxClick(event, this);
				});
			}
			
		}
	}
	
	poip_product_default.prototype.eventColorboxClick = function(event, element) {
		var this_object = this;
	
		if ( typeof(this_object.replace_eventColorboxClick) == 'function' ) {
			return this_object.replace_eventColorboxClick(event, element);
		}
	
		event.preventDefault();
	
		var this_data = $(element);
		var poip_colorbox = this_object.getElement('a.poip_colorbox[href!="#"]');
		
		for (var i=0; i<poip_colorbox.length; i++) {
			if (this_data.attr('href') == poip_colorbox[i].href || this_data.attr('href') == decodeURIComponent(poip_colorbox[i].href)) {
				$(poip_colorbox[i]).trigger('click');
				break;
			}
		}
	}
	
	poip_product_default.prototype.hrefIsVideo = function(href) {
		var this_object = this;
	
		if ( href ) {
			if ( href.indexOf('https://www.youtube.com')==0 || href.indexOf('http://www.youtube.com')==0
			|| href.indexOf('https://youtube.com')==0 || href.indexOf('http://youtube.com')==0
			|| href.indexOf('https://www.vimeo.com')==0 || href.indexOf('http://www.vimeo.com')==0
			|| href.indexOf('https://vimeo.com')==0 || href.indexOf('http://vimeo.com')==0
			|| href.indexOf('//www.youtube.com')==0
			|| href.indexOf('//youtube.com')==0
			|| href.indexOf('www.youtube.com')==0
			|| href.indexOf('youtube.com')==0
			|| href.indexOf('www.vimeo.com')==0
			|| href.indexOf('vimeo.com')==0 ) {
				return true;
			}
		}
		return false;
	}
	
	poip_product_default.prototype.getAdditionalImageMouseoverHref = function(image_a) {
		var this_object = this;
		
		if ( typeof(this_object.replace_getAdditionalImageMouseoverHref) == 'function' ) {
			return this_object.replace_getAdditionalImageMouseoverHref(image_a);
		}
		
		if ( typeof(this_object.if_getAdditionalImageMouseoverHref) == 'function' ) {
			var if_result = this_object.if_getAdditionalImageMouseoverHref(image_a);
			if ( if_result ) {
				return if_result;
			}
		}
		
		var href = '';
		if ($(image_a).is('img')) {
			href = $(image_a).attr('src');
		} else {
			href = ($(image_a).attr('href') && $(image_a).attr('href')!='#') ? $(image_a).attr('href') : $(image_a).attr('data-image') ;
		}
		
		return href;
	}
	
	poip_product_default.prototype.eventAdditionalImageMouseover = function(image_a) {
		var this_object = this;
		
		if ( typeof(this_object.if_eventAdditionalImageMouseover) == 'function' && this_object.if_eventAdditionalImageMouseover(image_a) ) {
			return;
		}
		
		if ( typeof(this_object.additional_startOfEventAdditionalImageMouseover) == 'function' ) {
			this_object.additional_startOfEventAdditionalImageMouseover(image_a);
		}
	
		var href = this_object.getAdditionalImageMouseoverHref(image_a);
		
		var data_image = $(image_a).attr('data-image');
		
		if ( this_object.hrefIsVideo(href) ) {
			return;
		}
		
		for (var i=0;i<poip_images.length;i++) {
			
			if ( (poip_images[i]['popup'] && poip_images[i]['popup'] == href) || (poip_images[i]['thumb'] && poip_images[i]['thumb'] == href)
			|| (poip_images[i]['popup'] && poip_images[i]['popup'] == data_image) || (poip_images[i]['main'] && poip_images[i]['main'] == data_image ) ) {
				
				if ( this_object.useMainImageUpdatingOnMouseover() ) {
					this_object.setMainImage(poip_images[i]['main'], poip_images[i]['popup']);
				}
				this_object.updateZoomImage(poip_images[i]['popup']);
		
				break;
			}
		}
		
		if ( typeof(this_object.additional_endOfEventAdditionalImageMouseover) == 'function' ) {
			this_object.additional_endOfEventAdditionalImageMouseover(image_a);
		}
		
		this_object.refreshPopupImages();
	}
	
	poip_product_default.prototype.setDefaultOptionsByURL = function() {
		var this_object = this;
		
		if ( typeof(this_object.if_setDefaultOptionsByURL) == 'function' && this_object.if_setDefaultOptionsByURL() ) {
			return;
		}
		
		let pov_ids = this_object.getDefaultOptionValuesToSet();
		
		this_object.each(pov_ids, function(pov_id){
			this_object.setProductOptionValue(pov_id);
		});
		/*
		var poip_ov = false;		
		if (poip_ov) {
			this_object.setProductOptionValue(poip_ov);
		}
		
		// for Yandex sync module by Toporchillo
		var hash = window.location.hash;
		if (hash) {
			var hashpart = hash.split('#');
			var hashvals = hashpart[1].split('-');
			for (i=0; i<hashvals.length; i++) {
				if ( !hashvals.hasOwnProperty(i) ) continue;
				
				this_object.setProductOptionValue(hashvals[i]);

			}
		}
		*/
	}
	
	poip_product_default.prototype.getDefaultOptionValuesToSet = function(){
		var this_object = this;
		
		let pov_ids = [];
		
		var poip_ov = false;		if ( poip_ov ) {
			pov_ids.push(poip_ov);
		}
		
		// for Yandex sync module by Toporchillo
		var hash = window.location.hash;
		if (hash) {
			var hashpart = hash.split('#');
			var hashvals = hashpart[1].split('-');
			for (i=0; i<hashvals.length; i++) {
				if ( !hashvals.hasOwnProperty(i) ) continue;
				
				if ( $.inArray(hashvals[i], pov_ids) == -1 ) {
				  pov_ids.push(hashvals[i]);
				}
			}
		}
		return pov_ids;
    };
			
	
	poip_product_default.prototype.setProductOptionValue = function(value) {
		var this_object = this;
		
		var $option_element = this_object.getElement('select[name^="'+this_object.option_prefix+'["] option, input:radio[name^="'+this_object.option_prefix+'["], input:checkbox[name^="'+this_object.option_prefix+'["]').filter('[value="'+value+'"]:not(:disabled)');
		if ( !$option_element.length ) {
			return;
		}
		
		// Journal2 compatibility
		if (this_object.getElement('.option ul li[data-value='+value+']').length) {
			this_object.getElement('.option ul li[data-value='+value+']').click();
			return;
		}
	
		// Product Block Option compatibility
		if ( this_object.getElement('a[option-value='+value+']').length ) {
			this_object.getElement('a[option-value='+value+']').click();
			return;
		}
	
		
		if ( typeof(this_object.if_setProductOptionValue) == 'function' && this_object.if_setProductOptionValue(value, $option_element) ) {
			return;
		}
	
		if ( $option_element.is('option') ) { // select
			$option_element.parent().val(value);
			$option_element.parent().trigger('change');
			
			return;
		} else { // radio or checkbox
			$option_element.prop('checked', true);
			$option_element.trigger('change');
			return;
		}
		
		/*
		var options = this_object.getElement('select[name^="'+this_object.option_prefix+'["]').children('option[value="'+value+'"]:not(:disabled)');
		for (var i=0; i<options.length;i++) {
			
			$(options[i]).parent().val(value);
			$(options[i]).parent().trigger('change');
			
			return;
		}
		
		var options = this_object.getElement('input[type=radio][name^="'+this_object.option_prefix+'["][value="'+value+'"]:not(:disabled)');
		for (var i=0; i<options.length;i++) {
		
			if ( typeof(this_object.if_afterSetProductOptionValue) == 'function' && this_object.if_afterSetProductOptionValue(options[i]) ) {
				return;
			}
		
			$(options[i]).prop('checked', true);
			$(options[i]).trigger('change');
			return;
		}
		
		var options = this_object.getElement('input[type=checkbox][name^="'+this_object.option_prefix+'["][value="'+value+'"]:not(:disabled)');
		for (var i=0; i<options.length;i++) {
			
			$(options[i]).prop('checked', true);
			$(options[i]).trigger('change');
			return;
		}
		*/
	}
	
	
	poip_product_default.prototype.externalOptionChange = function() {
		var this_object = this;
		
		if (poip_images_by_options) {
			for (var i in poip_images_by_options) {
				if (poip_images_by_options[i] && poip_images_by_options[i].length && poip_images_by_options[i][0]['product_option_id']) {
					var product_option_id = poip_images_by_options[i][0]['product_option_id'];
					this_object.getElement('select, input').filter('[name="'+this_object.option_prefix+'['+product_option_id+']"]').change();
					return;
				}
			}
		}
	}
	
	poip_product_default.prototype.checkEventsForSelects = function(first_time) {
		var this_object = this;

		this_object.getElement('select[name^="'+this_object.option_prefix+'["]').each(function () {
			var select_events = $(this).data('events') || $._data( this, "events" );
			var found_poip = false;
			
			if (select_events && select_events.change) {
				for (var i=0; i<select_events.change.length; i++) {
					if ( (''+select_events.change[i].handler).indexOf('this_object.eventOptionValueSelect') != -1 ) {
						found_poip = true;
						break;
					}
				}
			}
			
			if (!found_poip) {
				$(this).change( function(){this_object.eventOptionValueSelect(this);} );
				// event should be called, may be select value is reseted
				if (!first_time) {
					this_object.eventOptionValueSelect(this);
				}
			}
		});
	}
	
	
	
	// << MOST CHANGABLE FUNCTIONS
	
	poip_product_default.prototype.useColorboxRefreshing = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_useColorboxRefreshing) == 'function' ) {
			return this_object.replace_useColorboxRefreshing();
		}
		
		return false;
	}
	
	poip_product_default.prototype.useMainImageUpdatingOnMouseover = function() {
		var this_object = this;
		
		if ( typeof(this_object.replace_useMainImageUpdatingOnMouseover) == 'function' ) {
			return this_object.replace_useMainImageUpdatingOnMouseover();
		}
		
		return true;
	}
	
	// >> MOST CHANGABLE FUNCTIONS
	
	// << BASIC MODULE-TO_THEME ADAPDATION FUNCTIONS
	
	poip_product_default.prototype.getStoredImagesContainer = function($put_before_element, $carousel_items, data_key='images') {
		var this_object = this;
		
		var selector = '[data-poip="'+data_key+'"]';
		if ( !this_object.getElement(selector).length ) {
			$put_before_element.before('<div data-poip="'+data_key+'" style="display:none;!important"></div>');
			$carousel_items.each(function(){
				this_object.getElement(selector).append( this_object.getElementOuterHTML($(this)) );
			});
		}
		return this_object.getElement(selector);
	};
	
	poip_product_default.prototype.updateShouldBeProcessed = function($carousel_items, href_attr_name, images_to_check, images, counter, carousel_is_ready, ignore_image_coincidence) {
		var this_object = this;			
		
		if ( this_object.set_visible_images_first_call ) {
			if ( !carousel_is_ready ) {
				this_object.set_visible_images_timer_id = setTimeout(function(){
					this_object.replace_setVisibleImages(images, counter+1);
				}, 100);
				return false;
			}
			this_object.set_visible_images_first_call = false;
		} else {
		
			if ( !ignore_image_coincidence ) {
				var current_imgs = [];
				$carousel_items.each( function(){
					current_imgs.push($(this).attr(href_attr_name));
				});
				
				if ( current_imgs.toString() == images_to_check.toString() ) {
					this_object.set_visible_images_timer_id = false;
					return false; // nothing to change
				}
			}
		}
		
		return true;
	
	};
	
	// >> BASIC MODULE-TO_THEME ADAPDATION FUNCTIONS

--></script>

<script type="text/javascript"><!--

	var poip_theme_name = 'barakat';
	
	if ( poip_theme_name != 'sellegance' && poip_theme_name != 'basel' && poip_theme_name != 'oct_techstore') {
		var console=console||{"log":function(){},"debug":function(){}};
		var poip_options_settings = {"227":{"img_change":"1","img_use":"1","img_limit":"1","img_option":false,"img_category":"1","img_first":"0","img_cart":"1","img_radio_checkbox":false,"dependent_thumbnails":"1"}};
		var poip_settings = {"options_images_edit":"0","img_hover":"1","img_main_to_additional":"1","img_gal":"1","img_change":"1","img_use":"1","img_limit":"1","img_category":"1","img_first":"0","dependent_thumbnails":"1","img_cart":"1","custom_theme_id":""};
		var poip_images = [{"product_id":"40","image":"catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540.jpg","sort_order":0,"product_image_id":"-1","popup":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-500x500.jpg","thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-74x74.jpg","main":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-228x228.jpg","option_thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-50x50.jpg"},{"product_image_id":"2594","product_id":"40","image":"catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540.jpg","sort_order":"0","popup":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-500x500.jpg","thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-74x74.jpg","main":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-228x228.jpg","option_thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-50x50.jpg"},{"product_image_id":"2595","product_id":"40","image":"catalog\/03-min_540x540.png","sort_order":"1","popup":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-500x500.png","thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-74x74.png","main":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-228x228.png","option_thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-50x50.png"}];
		var poip_images_by_options = [];
		var poip_product_option_ids = [];
		var poip_product_images = [{"product_id":"40","image":"catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540.jpg","sort_order":0,"product_image_id":"-1","popup":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-500x500.jpg","thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-74x74.jpg","main":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-228x228.jpg","option_thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/3-min_2227304b-e153-43cf-9d71-7085f4330129_540x540-50x50.jpg"},{"product_image_id":"2594","product_id":"40","image":"catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540.jpg","sort_order":"0","popup":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-500x500.jpg","thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-74x74.jpg","main":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-228x228.jpg","option_thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/6-min_ca49ea6e-fd8f-435f-bb17-361667260d43_540x540-50x50.jpg"},{"product_image_id":"2595","product_id":"40","image":"catalog\/03-min_540x540.png","sort_order":"1","popup":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-500x500.png","thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-74x74.png","main":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-228x228.png","option_thumb":"http:\/\/localhost\/barakat_opticals\/image\/cache\/catalog\/03-min_540x540-50x50.png"}];
		
		if ( typeof(poip_images2) != 'undefined' ) {
			poip_images = poip_images2;
		}
	}
	
	
	
	
//--></script>  						<script  type = "text/javascript" ><!--
							if ( typeof(poip_product_default) != 'undefined' ) { 
								var poip_product = new poip_product_default();
							}
						//--></script>
						      <!-- >> Product Option Image PRO module -->
      
<footer class="small-gap white">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12 text-center">
                <h2>SIGN UP FOR NEWSLETTER</h2>
                <div class="form-group subscribe_view space-both">
					<form id="barakatNewsletter" method="post" action="#">
						<!-- <div class="input-wrapper"> -->
						<input name="email" type="email" value="" placeholder="Your email address">
						<!-- </div> -->
						<button class="btn btn-outline red-btn" name="submitNewsletter" id="submitNewsletter">SUBSCRIBE</button>
					</form>
                </div>
            </div>
        </div>
        <div class="row footer-menu">
            <div class="col-sm-12 text-center">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class="menu-overlay"></div>
<script src="bootstrap/js/barakat-combined.js"></script>
<script>
if ('serviceWorker' in navigator) {
window.addEventListener('load', function () {
navigator.serviceWorker.register('sw.js').then(function (registration) {
// Registration was successful
console.log('ServiceWorker registration successful with scope: ', registration.scope);
}, function (err) {
// registration failed :(
console.log('ServiceWorker registration failed: ', err);
});
});
}
</script>
<script>
$("#submitNewsletter").click(function(e){
	e.preventDefault();
	$.ajax({
		url: 'index.php?source=newsletter/newsletter/subscribe',
		type: 'post',
		dataType: 'json',
		data: $("#barakatNewsletter").serialize(),
		beforeSend: function() {
			$('#submitNewsletter').button('loading');
		},
		complete: function() {
			$('#submitNewsletter').button('reset');
		},
		success: function(json) {
			$('.alert-success, .alert-danger').remove();
			console.log(json);
			if (json.status == 'error') {
				$('#submitNewsletter').after('<div class="col-sm-6 col-sm-offset-3 text-center"><div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> ' + json.message + '</div></div>');
			}
			if (json.status == 'success') {
				$('#submitNewsletter').after('<div class="col-sm-6 col-sm-offset-3 text-center"><div class="alert alert-success"><i class="fa fa-check-circle"></i> ' + json.message + '</div></div>');
				$('input[name=\'email\']').val('');
			}
		}
	});
});


if ($(window).width() < 767) {

    $('[data-toggle="collapse"]').on('click', function () {
        $navMenuCont = $($(this).data('target'));
        $navMenuCont.animate({
            'width': 'toggle'
        }, 350);
        $("#navbarCollapse").toggleClass("open");

        $(".menu-overlay").stop().fadeIn(300);
    });
    $(".menu-overlay").click(function (event) {
        $(".navbar-toggle").trigger("click");
        $(".menu-overlay").stop().fadeOut(300);
    });

}
</script>
<script src="bootstrap/js/main.js"></script>

</body>
</html>
